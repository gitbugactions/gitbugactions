{
    "repository": "stabacco/stake-python",
    "stars": 53,
    "language": "python",
    "size": 306,
    "clone_url": "https://github.com/stabacco/stake-python.git",
    "timestamp": "2023-07-01T15:05:25.232130Z",
    "clone_success": true,
    "number_of_actions": 4,
    "number_of_test_actions": 1,
    "actions_successful": true,
    "actions_build_tools": [
        "unknown",
        "unknown",
        "unknown",
        "pytest"
    ],
    "actions_test_build_tools": [
        "pytest"
    ],
    "actions_run": {
        "failed": false,
        "tests": [
            {
                "classname": "tests.test_client",
                "name": "test_credentials_login_serializing",
                "time": 0.214,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_client",
                "name": "test_credentials_login",
                "time": 0.946,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_equity",
                "name": "test_list_equities[exchange0]",
                "time": 0.13,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_equity",
                "name": "test_list_equities[exchange1]",
                "time": 0.115,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_funding",
                "name": "test_list_fundings[exchange0-request_0]",
                "time": 0.247,
                "results": [
                    {
                        "result": "Failure",
                        "message": "vcr.errors.CannotOverwriteExistingCassetteException: Can't overwrite existing cassette ('/tmp/558156d8-17ed-11ee-8a50-bb14de238602/stabacco-stake-python/tests/cassettes/test_funding/test_list_fundings[exchange0-request_0].yaml') in your current record mode ('none').\nNo match for the request (<Request (GET) https://global-prd-api.hellostake.com/api/users/accounts/transactionDetails?reference=r9-6577610c&referenceType=Funding>) was found.\nFound 2 similar requests with 1 different matcher(s) :\n\n1 - (<Request (GET) https://global-prd-api.hellostake.com/api/users/accounts/transactionDetails?reference=O9-7708124v&referenceType=Funding>).\nMatchers succeeded : ['method', 'scheme', 'host', 'port', 'path']\nMatchers failed :\nquery - assertion failure :\n[('reference', 'r9-6577610c'), ('referenceType', 'Funding')] != [('reference', 'O9-7708124v'), ('referenceType', 'Funding')]\nassert [('reference'...', 'Funding')] == [('reference'...', 'Funding')]\n  At index 0 diff: ('reference', 'r9-6577610c') != ('reference', 'O9-7708124v')\n  Full diff:\n  - [('reference', 'O9-7708124v'), ('referenceType', 'Funding')]\n  ?                 ^     ^^^^^\n  + [('reference', 'r9-6577610c'), ('referenceType', 'Funding')]\n  ?                 ^  ++  ++ ^\n\n2 - (<Request (GET) https://global-prd-api.hellostake.com/api/users/accounts/transactionDetails?reference=O9-7708124v&referenceType=Funding>).\nMatchers succeeded : ['method', 'scheme', 'host', 'port', 'path']\nMatchers failed :\nquery - assertion failure :\n[('reference', 'r9-6577610c'), ('referenceType', 'Funding')] != [('reference', 'O9-7708124v'), ('referenceType', 'Funding')]\nassert [('reference'...', 'Funding')] == [('reference'...', 'Funding')]\n  At index 0 diff: ('reference', 'r9-6577610c') != ('reference', 'O9-7708124v')\n  Full diff:\n  - [('reference', 'O9-7708124v'), ('referenceType', 'Funding')]\n  ?                 ^     ^^^^^\n  + [('reference', 'r9-6577610c'), ('referenceType', 'Funding')]\n  ?                 ^  ++  ++ ^",
                        "type": null
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_funding",
                "name": "test_list_fundings[exchange1-request_1]",
                "time": 0.11,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_funding",
                "name": "test_cash_available[exchange0]",
                "time": 0.108,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_funding",
                "name": "test_cash_available[exchange1]",
                "time": 0.11,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_funding",
                "name": "test_funds_in_flight[exchange0]",
                "time": 0.105,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_funding",
                "name": "test_funds_in_flight[exchange1]",
                "time": 0.119,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_fx",
                "name": "test_fx_conversion",
                "time": 0.112,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_integration",
                "name": "test_integration[exchange0]",
                "time": 0.19,
                "results": [
                    {
                        "result": "Failure",
                        "message": "stake.client.InvalidLoginException: Invalid Session Token",
                        "type": null
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_integration",
                "name": "test_integration[exchange1]",
                "time": 0.18,
                "results": [
                    {
                        "result": "Failure",
                        "message": "stake.client.InvalidLoginException: Invalid Session Token",
                        "type": null
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_market",
                "name": "test_check_market_status[exchange0]",
                "time": 0.108,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_market",
                "name": "test_check_market_status[exchange1]",
                "time": 0.104,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_order",
                "name": "test_list_orders[exchange0]",
                "time": 0.101,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_order",
                "name": "test_list_orders[exchange1]",
                "time": 0.102,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_order",
                "name": "test_cancel_order[exchange0]",
                "time": 0.15,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_order",
                "name": "test_cancel_order[exchange1]",
                "time": 0.178,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_product",
                "name": "test_find_products_by_name[exchange0]",
                "time": 0.085,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_product",
                "name": "test_find_products_by_name[exchange1]",
                "time": 0.08,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_product",
                "name": "test_product_serializer",
                "time": 0.259,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_product",
                "name": "test_get_product[exchange0-symbols0]",
                "time": 0.224,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_product",
                "name": "test_get_product[exchange1-symbols1]",
                "time": 0.204,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_product",
                "name": "test_search_products[exchange0-CBA]",
                "time": 0.18,
                "results": [
                    {
                        "result": "Error",
                        "message": "failed on setup with \"stake.client.InvalidLoginException: Invalid Session Token\"",
                        "type": null
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_product",
                "name": "test_search_products[exchange1-MSFT]",
                "time": 0.168,
                "results": [
                    {
                        "result": "Error",
                        "message": "failed on setup with \"stake.client.InvalidLoginException: Invalid Session Token\"",
                        "type": null
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_ratings",
                "name": "test_list_ratings",
                "time": 0.106,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_ratings",
                "name": "test_list_ratings_unknown",
                "time": 0.104,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_trade",
                "name": "test_stop_buy",
                "time": 0.201,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_trade",
                "name": "test_limit_buy",
                "time": 0.18,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_trade",
                "name": "test_limit_sell",
                "time": 0.168,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_trade",
                "name": "test_successful_trade[exchange0-request_0]",
                "time": 0.199,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_trade",
                "name": "test_successful_trade[exchange1-request_1]",
                "time": 0.291,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_trade",
                "name": "test_successful_trade[exchange2-request_2]",
                "time": 0.265,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_trade",
                "name": "test_successful_trade[exchange3-request_3]",
                "time": 0.248,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_trade",
                "name": "test_sell[exchange0-request_0]",
                "time": 0.303,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_trade",
                "name": "test_sell[exchange1-request_1]",
                "time": 0.257,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_transaction",
                "name": "test_list_transactions[exchange0-request_0]",
                "time": 0.105,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_transaction",
                "name": "test_list_transactions[exchange1-request_1]",
                "time": 0.114,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_watchlist",
                "name": "test_add_to_watchlist",
                "time": 0.158,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_watchlist",
                "name": "test_remove_from_watchlist",
                "time": 0.157,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_watchlist",
                "name": "test_list_watchlist",
                "time": 0.116,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_watchlist",
                "name": "test_create_watchlist[exchange0-symbols0]",
                "time": 0.512,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            },
            {
                "classname": "tests.test_watchlist",
                "name": "test_create_watchlist[exchange1-symbols1]",
                "time": 0.466,
                "results": [
                    {
                        "result": "Passed",
                        "message": "",
                        "type": ""
                    }
                ],
                "stdout": null,
                "stderr": null
            }
        ],
        "stdout": "[08e8b649-c045-400f-acea-d49a20a0b1b4/ci] \ud83d\ude80  Start image=crawlergpt:latest\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udc33  docker pull image=crawlergpt:latest platform= username= forcePull=false\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udc33  docker create image=crawlergpt:latest platform= entrypoint=[\"tail\" \"-f\" \"/dev/null\"] cmd=[]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udc33  docker run image=crawlergpt:latest platform= entrypoint=[\"tail\" \"-f\" \"/dev/null\"] cmd=[]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udc33  docker exec cmd=[chown -R 1012:1013 /tmp/558156d8-17ed-11ee-8a50-bb14de238602/stabacco-stake-python] user=0 workdir=\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2601  git clone 'https://github.com/actions/setup-python' # ref=v2\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2601  git clone 'https://github.com/abatilo/actions-poetry' # ref=v2.0.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci] \u2b50 Run Pre Run image\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2705  Success - Pre Run image\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2601  git clone 'https://github.com/actions/upload-artifact' # ref=v2\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2601  git clone 'https://github.com/EndBug/add-and-commit' # ref=v4.4.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2601  git clone 'https://github.com/codacy/codacy-coverage-reporter-action' # ref=master\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci] \u2b50 Run Pre Run codacy-coverage-reporter\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2705  Success - Pre Run codacy-coverage-reporter\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci] \ud83e\uddea  Matrix: map[os:ubuntu-latest poetry-version:1.3.2 python-version:3.8]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci] \u2b50 Run Main actions/checkout@v2\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2705  Success - Main actions/checkout@v2\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci] \u2b50 Run Main actions/setup-python@v2\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udc33  docker cp src=/tmp/act-cache/b7302166-a15c-460a-9b86-bdef51fb0779/act/actions-setup-python@v2/ dst=/var/run/act/actions/actions-setup-python@v2/\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udc33  docker exec cmd=[chown -R 1012:1013 /var/run/act/actions/actions-setup-python@v2/] user=0 workdir=\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udc33  docker exec cmd=[node /var/run/act/actions/actions-setup-python@v2/dist/setup/index.js] user= workdir=\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::Semantic version spec of 3.8 is 3.8\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::isExplicit: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::explicit? false\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::isExplicit: 2.7.18\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::explicit? true\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::isExplicit: 3.5.10\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::explicit? true\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::isExplicit: 3.6.14\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::explicit? true\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::isExplicit: 3.7.11\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::explicit? true\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::isExplicit: 3.8.11\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::explicit? true\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::isExplicit: 3.9.6\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::explicit? true\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::evaluating 6 versions\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::matched: 3.8.11\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::checking cache: /opt/hostedtoolcache/Python/3.8.11/x64\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udcac  ::debug::Found tool in cache Python 3.8.11 x64\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Successfully setup CPython (3.8.11)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2753 add-matcher /run/act/actions/actions-setup-python@v2/.github/python.json\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2705  Success - Main actions/setup-python@v2\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2699  ::set-env:: pythonLocation=/opt/hostedtoolcache/Python/3.8.11/x64\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2699  ::set-env:: LD_LIBRARY_PATH=/opt/hostedtoolcache/Python/3.8.11/x64/lib\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2699  ::set-output:: python-version=3.8.11\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2699  ::add-path:: /opt/hostedtoolcache/Python/3.8.11/x64\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2699  ::add-path:: /opt/hostedtoolcache/Python/3.8.11/x64/bin\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci] \u2b50 Run Main Run image\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udc33  docker cp src=/tmp/act-cache/b7302166-a15c-460a-9b86-bdef51fb0779/act/abatilo-actions-poetry@v2.0.0/ dst=/var/run/act/actions/abatilo-actions-poetry@v2.0.0/\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udc33  docker exec cmd=[chown -R 1012:1013 /var/run/act/actions/abatilo-actions-poetry@v2.0.0/] user=0 workdir=\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci] \u2b50 Run Main pip install poetry==1.3.2\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udc33  docker exec cmd=[bash --noprofile --norc -e -o pipefail /var/run/act/workflow/2-composite-0.sh] user= workdir=\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting poetry==1.3.2\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading poetry-1.3.2-py3-none-any.whl (218 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting poetry-core==1.4.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading poetry_core-1.4.0-py3-none-any.whl (546 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting tomli<3.0.0,>=2.0.1\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading tomli-2.0.1-py3-none-any.whl (12 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting filelock<4.0.0,>=3.8.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading filelock-3.12.2-py3-none-any.whl (10 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting crashtest<0.5.0,>=0.4.1\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading crashtest-0.4.1-py3-none-any.whl (7.6 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting cachecontrol[filecache]<0.13.0,>=0.12.9\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading CacheControl-0.12.14-py2.py3-none-any.whl (21 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting dulwich<0.21.0,>=0.20.46\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading dulwich-0.20.50-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (502 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting tomlkit!=0.11.2,!=0.11.3,<1.0.0,>=0.11.1\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading tomlkit-0.11.8-py3-none-any.whl (35 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting lockfile<0.13.0,>=0.12.2\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading lockfile-0.12.2-py2.py3-none-any.whl (13 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting pkginfo<2.0,>=1.5\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading pkginfo-1.9.6-py3-none-any.whl (30 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting html5lib<2.0,>=1.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading html5lib-1.1-py2.py3-none-any.whl (112 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting requests<3.0,>=2.18\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading requests-2.31.0-py3-none-any.whl (62 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting poetry-plugin-export<2.0.0,>=1.2.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading poetry_plugin_export-1.4.0-py3-none-any.whl (10 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting platformdirs<3.0.0,>=2.5.2\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading platformdirs-2.6.2-py3-none-any.whl (14 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting importlib-metadata<5.0,>=4.4\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading importlib_metadata-4.13.0-py3-none-any.whl (23 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting shellingham<2.0,>=1.5\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading shellingham-1.5.0.post1-py2.py3-none-any.whl (9.4 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting packaging>=20.4\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading packaging-23.1-py3-none-any.whl (48 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting urllib3<2.0.0,>=1.26.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading urllib3-1.26.16-py2.py3-none-any.whl (143 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting cleo<3.0.0,>=2.0.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading cleo-2.0.1-py3-none-any.whl (77 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting jsonschema<5.0.0,>=4.10.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading jsonschema-4.17.3-py3-none-any.whl (90 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting trove-classifiers>=2022.5.19\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading trove_classifiers-2023.5.24-py3-none-any.whl (13 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting virtualenv!=20.4.5,!=20.4.6,<21.0.0,>=20.4.3\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading virtualenv-20.23.1-py3-none-any.whl (3.3 MB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting requests-toolbelt<0.11.0,>=0.9.1\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading requests_toolbelt-0.10.1-py2.py3-none-any.whl (54 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting keyring<24.0.0,>=23.9.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading keyring-23.13.1-py3-none-any.whl (37 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting pexpect<5.0.0,>=4.7.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading pexpect-4.8.0-py2.py3-none-any.whl (59 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting msgpack>=0.5.2\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading msgpack-1.0.5-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (322 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting rapidfuzz<3.0.0,>=2.2.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading rapidfuzz-2.15.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting webencodings\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading webencodings-0.5.1-py2.py3-none-any.whl (11 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting six>=1.9\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading six-1.16.0-py2.py3-none-any.whl (11 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting zipp>=0.5\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading zipp-3.15.0-py3-none-any.whl (6.8 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting attrs>=17.4.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading attrs-23.1.0-py3-none-any.whl (61 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting importlib-resources>=1.4.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading importlib_resources-5.12.0-py3-none-any.whl (36 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting pkgutil-resolve-name>=1.3.10\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading pkgutil_resolve_name-1.3.10-py3-none-any.whl (4.7 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading pyrsistent-0.19.3-py3-none-any.whl (57 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting jeepney>=0.4.2\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading jeepney-0.8.0-py3-none-any.whl (48 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting SecretStorage>=3.2\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading SecretStorage-3.3.3-py3-none-any.whl (15 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting jaraco.classes\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading jaraco.classes-3.2.3-py3-none-any.whl (6.0 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting ptyprocess>=0.5\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading ptyprocess-0.7.0-py2.py3-none-any.whl (13 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting poetry-plugin-export<2.0.0,>=1.2.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading poetry_plugin_export-1.3.1-py3-none-any.whl (10 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting charset-normalizer<4,>=2\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading charset_normalizer-3.1.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (195 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting idna<4,>=2.5\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading idna-3.4-py3-none-any.whl (61 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting certifi>=2017.4.17\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading certifi-2023.5.7-py3-none-any.whl (156 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting cryptography>=2.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading cryptography-41.0.1-cp37-abi3-manylinux_2_28_x86_64.whl (4.3 MB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting cffi>=1.12\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading cffi-1.15.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (442 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting pycparser\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting virtualenv!=20.4.5,!=20.4.6,<21.0.0,>=20.4.3\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading virtualenv-20.23.0-py3-none-any.whl (3.3 MB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading virtualenv-20.22.0-py3-none-any.whl (3.2 MB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading virtualenv-20.21.1-py3-none-any.whl (8.7 MB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting distlib<1,>=0.3.6\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Collecting more-itertools\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Downloading more_itertools-9.1.0-py3-none-any.whl (54 kB)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Installing collected packages: pycparser, urllib3, idna, charset-normalizer, cffi, certifi, zipp, requests, msgpack, more-itertools, jeepney, cryptography, webencodings, six, SecretStorage, rapidfuzz, pyrsistent, ptyprocess, poetry-core, platformdirs, pkgutil-resolve-name, lockfile, jaraco.classes, importlib-resources, importlib-metadata, filelock, distlib, crashtest, cachecontrol, attrs, virtualenv, trove-classifiers, tomlkit, tomli, shellingham, requests-toolbelt, poetry-plugin-export, pkginfo, pexpect, packaging, keyring, jsonschema, html5lib, dulwich, cleo, poetry\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Successfully installed SecretStorage-3.3.3 attrs-23.1.0 cachecontrol-0.12.14 certifi-2023.5.7 cffi-1.15.1 charset-normalizer-3.1.0 cleo-2.0.1 crashtest-0.4.1 cryptography-41.0.1 distlib-0.3.6 dulwich-0.20.50 filelock-3.12.2 html5lib-1.1 idna-3.4 importlib-metadata-4.13.0 importlib-resources-5.12.0 jaraco.classes-3.2.3 jeepney-0.8.0 jsonschema-4.17.3 keyring-23.13.1 lockfile-0.12.2 more-itertools-9.1.0 msgpack-1.0.5 packaging-23.1 pexpect-4.8.0 pkginfo-1.9.6 pkgutil-resolve-name-1.3.10 platformdirs-2.6.2 poetry-1.3.2 poetry-core-1.4.0 poetry-plugin-export-1.3.1 ptyprocess-0.7.0 pycparser-2.21 pyrsistent-0.19.3 rapidfuzz-2.15.1 requests-2.31.0 requests-toolbelt-0.10.1 shellingham-1.5.0.post1 six-1.16.0 tomli-2.0.1 tomlkit-0.11.8 trove-classifiers-2023.5.24 urllib3-1.26.16 virtualenv-20.21.1 webencodings-0.5.1 zipp-3.15.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | WARNING: You are using pip version 21.2.4; however, version 23.1.2 is available.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | You should consider upgrading via the '/opt/hostedtoolcache/Python/3.8.11/x64/bin/python -m pip install --upgrade pip' command.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2705  Success - Main pip install poetry==1.3.2\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2705  Success - Main Run image\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci] \u2b50 Run Main Run Tests\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udc33  docker exec cmd=[bash --noprofile --norc -e -o pipefail /var/run/act/workflow/3] user= workdir=\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Creating virtualenv stake-oSt3juwX-py3.8 in /home/runneradmin/.cache/pypoetry/virtualenvs\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Installing dependencies from lock file\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Package operations: 53 installs, 1 update, 0 removals\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing attrs (22.2.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing exceptiongroup (1.1.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing iniconfig (2.0.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing packaging (23.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing pluggy (1.0.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing tomli (2.0.1)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing coverage (7.1.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing idna (3.4)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing multidict (6.0.4)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing pytest (7.2.1)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing distlib (0.3.6)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing filelock (3.9.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing platformdirs (2.6.2)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing pytest-cov (4.0.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing pyyaml (6.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Updating setuptools (67.6.1 -> 67.1.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing frozenlist (1.3.3)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing ruamel-yaml-clib (0.2.7)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing six (1.16.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing yarl (1.8.2)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing wrapt (1.14.1)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing aiosignal (1.3.1)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing appdirs (1.4.4)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing cfgv (3.3.1)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing charset-normalizer (2.1.1)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing async-timeout (4.0.2)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing nodeenv (1.7.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing pathspec (0.11.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing pytest-cover (3.0.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing python-dateutil (2.8.2)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing click (8.1.3)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing text-unidecode (1.3)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing toml (0.10.2)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing typed-ast (1.5.4)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing regex (2022.10.31)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing ruamel-yaml (0.17.21)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing identify (2.5.17)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing vcrpy (4.2.1)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing typing-extensions (4.4.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing virtualenv (20.16.2)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing aiohttp (3.8.3)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing black (19.10b0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing coverage-badge (1.1.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing faker (4.18.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing inflection (0.5.1)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing pre-commit (2.21.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing pydantic (1.10.4)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing pytest-asyncio (0.14.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing pytest-coverage (0.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing pre-commit-hooks (3.4.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing pytest-mock (3.10.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing single-version (1.5.1)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing python-dotenv (0.13.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   \u2022 Installing pytest-recording (0.12.1)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Installing the current project: stake (0.3.0)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | ============================= test session starts ==============================\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | platform linux -- Python 3.8.11, pytest-7.2.1, pluggy-1.0.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | rootdir: /tmp/558156d8-17ed-11ee-8a50-bb14de238602/stabacco-stake-python\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | plugins: asyncio-0.14.0, cov-4.0.0, mock-3.10.0, recording-0.12.1, Faker-4.18.0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | collected 44 items\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_client.py ..                                                  [  4%]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_equity.py ..                                                  [  9%]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_funding.py F.....                                             [ 22%]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_fx.py .                                                       [ 25%]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_integration.py FF                                             [ 29%]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_market.py ..                                                  [ 34%]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_order.py ....                                                 [ 43%]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_product.py .....EE                                            [ 59%]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_ratings.py ..                                                 [ 63%]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_trade.py .........                                            [ 84%]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_transaction.py ..                                             [ 88%]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_watchlist.py .....                                            [100%]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | ==================================== ERRORS ====================================\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | ____________ ERROR at setup of test_search_products[exchange0-CBA] _____________\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <stake.client.StakeClient object at 0x7f87f64ad070>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | login_request = SessionTokenLoginRequest(token='')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def login(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         self, login_request: Union[CredentialsLoginRequest, SessionTokenLoginRequest]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     ) -> user.User:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"Authenticates to the stake api.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Args:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             login_request (Union[CredentialsLoginRequest, SessionTokenLoginRequest]):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             you can authenticate either with your credentials(username, password)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             or with an existing session token.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Returns:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             user.User: the authenticated user.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if isinstance(login_request, CredentialsLoginRequest):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 data = await self.post(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     constant.NYSE.create_session,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     payload=login_request.dict(by_alias=True),\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self.headers.stake_session_token = data[\"sessionKey\"]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             except aiohttp.client_exceptions.ClientResponseError as error:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 raise InvalidLoginException(\"Invalid Login Credentials\") from error\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             self.headers.stake_session_token = login_request.token\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >           user_data = await self.get(self.exchange.users)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:246: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <stake.client.StakeClient object at 0x7f87f64ad070>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | url = 'https://global-prd-api.hellostake.com/api/user', payload = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def get(self, url: str, payload: dict = None) -> dict:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"Performs an HTTP get operation.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Args:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             url (str): the current endpoint\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             payload (dict): The request's body.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Returns:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             dict: the json response\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >       return await self.http_client.get(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             url, payload=payload, headers=self.headers.dict(by_alias=True)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:187: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | url = 'https://global-prd-api.hellostake.com/api/user', payload = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | headers = {'Accept': 'application/json', 'Content-Type': 'application/json', 'Stake-Session-Token': ''}\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     @staticmethod\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def get(url: str, payload: dict = None, headers: dict = None) -> dict:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         async with aiohttp.ClientSession(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             headers=headers, raise_for_status=True\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ) as session:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >           response = await session.get(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 HttpClient.url(url), headers=headers, json=payload\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:80: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <aiohttp.client.ClientSession object at 0x7f87f6649610>, method = 'GET'\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | str_or_url = 'https://global-prd-api.hellostake.com/api/user'\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def _request(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         self,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         method: str,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         str_or_url: StrOrURL,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         *,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         params: Optional[Mapping[str, str]] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         data: Any = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         json: Any = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         cookies: Optional[LooseCookies] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         headers: Optional[LooseHeaders] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         skip_auto_headers: Optional[Iterable[str]] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         auth: Optional[BasicAuth] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         allow_redirects: bool = True,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         max_redirects: int = 10,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         compress: Optional[str] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         chunked: Optional[bool] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         expect100: bool = False,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         raise_for_status: Optional[bool] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         read_until_eof: bool = True,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         proxy: Optional[StrOrURL] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         proxy_auth: Optional[BasicAuth] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         timeout: Union[ClientTimeout, object] = sentinel,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         verify_ssl: Optional[bool] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         fingerprint: Optional[bytes] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ssl_context: Optional[SSLContext] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ssl: Optional[Union[SSLContext, bool, Fingerprint]] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         proxy_headers: Optional[LooseHeaders] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         trace_request_ctx: Optional[SimpleNamespace] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         read_bufsize: Optional[int] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     ) -> ClientResponse:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # NOTE: timeout clamps existing connect and read timeouts.  We cannot\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # set the default to None because we need to detect if the user wants\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # to use the existing timeouts by setting timeout to None.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if self.closed:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             raise RuntimeError(\"Session is closed\")\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ssl = _merge_ssl_params(ssl, verify_ssl, ssl_context, fingerprint)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if data is not None and json is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             raise ValueError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 \"data and json parameters can not be used at the same time\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         elif json is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             data = payload.JsonPayload(json, dumps=self._json_serialize)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if not isinstance(chunked, bool) and chunked is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             warnings.warn(\"Chunk size is deprecated #1615\", DeprecationWarning)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         redirects = 0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         history = []\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         version = self._version\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # Merge with default headers and transform to CIMultiDict\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         headers = self._prepare_headers(headers)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         proxy_headers = self._prepare_headers(proxy_headers)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             url = self._build_url(str_or_url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         except ValueError as e:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             raise InvalidURL(str_or_url) from e\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         skip_headers = set(self._skip_auto_headers)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if skip_auto_headers is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             for i in skip_auto_headers:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 skip_headers.add(istr(i))\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if proxy is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 proxy = URL(proxy)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             except ValueError as e:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 raise InvalidURL(proxy) from e\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if timeout is sentinel:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             real_timeout: ClientTimeout = self._timeout\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             if not isinstance(timeout, ClientTimeout):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 real_timeout = ClientTimeout(total=timeout)  # type: ignore[arg-type]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 real_timeout = timeout\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # timeout is cumulative for all request operations\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # (request, redirects, responses, data consuming)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         tm = TimeoutHandle(self._loop, real_timeout.total)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         handle = tm.start()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if read_bufsize is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             read_bufsize = self._read_bufsize\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         traces = [\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             Trace(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 trace_config,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 trace_config.trace_config_ctx(trace_request_ctx=trace_request_ctx),\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             for trace_config in self._trace_configs\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         for trace in traces:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             await trace.send_request_start(method, url.update_query(params), headers)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         timer = tm.timer()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             with timer:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 while True:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     url, auth_from_url = strip_auth_from_url(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if auth and auth_from_url:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise ValueError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"Cannot combine AUTH argument with \"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"credentials encoded in URL\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if auth is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         auth = auth_from_url\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if auth is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         auth = self._default_auth\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     # It would be confusing if we support explicit\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     # Authorization header with auth argument\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if (\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         headers is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         and auth is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         and hdrs.AUTHORIZATION in headers\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     ):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise ValueError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"Cannot combine AUTHORIZATION header \"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"with AUTH argument or credentials \"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"encoded in URL\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     all_cookies = self._cookie_jar.filter_cookies(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if cookies is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         tmp_cookie_jar = CookieJar()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         tmp_cookie_jar.update_cookies(cookies)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         req_cookies = tmp_cookie_jar.filter_cookies(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if req_cookies:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             all_cookies.load(req_cookies)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if proxy is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         proxy = URL(proxy)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     elif self._trust_env:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         with suppress(LookupError):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             proxy, proxy_auth = get_env_proxy_for_url(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     req = self._request_class(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         method,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         url,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         params=params,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         headers=headers,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         skip_auto_headers=skip_headers,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         data=data,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         cookies=all_cookies,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         auth=auth,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         version=version,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         compress=compress,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         chunked=chunked,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         expect100=expect100,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         loop=self._loop,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         response_class=self._response_class,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         proxy=proxy,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         proxy_auth=proxy_auth,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         timer=timer,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         session=self,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         ssl=ssl,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         proxy_headers=proxy_headers,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         traces=traces,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     # connection timeout\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         async with ceil_timeout(real_timeout.connect):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             assert self._connector is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             conn = await self._connector.connect(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 req, traces=traces, timeout=real_timeout\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     except asyncio.TimeoutError as exc:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise ServerTimeoutError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"Connection timeout \" \"to host {}\".format(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         ) from exc\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     assert conn.transport is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     assert conn.protocol is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     conn.protocol.set_response_params(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         timer=timer,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         skip_payload=method.upper() == \"HEAD\",\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         read_until_eof=read_until_eof,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         auto_decompress=self._auto_decompress,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         read_timeout=real_timeout.sock_read,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         read_bufsize=read_bufsize,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp = await req.send(conn)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 await resp.start(conn)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             except BaseException:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 resp.close()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 raise\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         except BaseException:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             conn.close()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     except ClientError:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     except OSError as exc:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if exc.errno is None and isinstance(exc, asyncio.TimeoutError):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise ClientOSError(*exc.args) from exc\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     self._cookie_jar.update_cookies(resp.cookies, resp.url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     # redirects\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if resp.status in (301, 302, 303, 307, 308) and allow_redirects:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         for trace in traces:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             await trace.send_request_redirect(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 method, url.update_query(params), headers, resp\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         redirects += 1\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         history.append(resp)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if max_redirects and redirects >= max_redirects:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp.close()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise TooManyRedirects(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 history[0].request_info, tuple(history)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         # For 301 and 302, mimic IE, now changed in RFC\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         # https://github.com/kennethreitz/requests/pull/269\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if (resp.status == 303 and resp.method != hdrs.METH_HEAD) or (\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp.status in (301, 302) and resp.method == hdrs.METH_POST\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         ):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             method = hdrs.METH_GET\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             data = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             if headers.get(hdrs.CONTENT_LENGTH):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 headers.pop(hdrs.CONTENT_LENGTH)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         r_url = resp.headers.get(hdrs.LOCATION) or resp.headers.get(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             hdrs.URI\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if r_url is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             # see github.com/aio-libs/aiohttp/issues/2022\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             break\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             # reading from correct redirection\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             # response is forbidden\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp.release()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             parsed_url = URL(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 r_url, encoded=not self._requote_redirect_url\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         except ValueError as e:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise InvalidURL(r_url) from e\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         scheme = parsed_url.scheme\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if scheme not in (\"http\", \"https\", \"\"):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp.close()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise ValueError(\"Can redirect only to http or https\")\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         elif not scheme:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             parsed_url = url.join(parsed_url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if url.origin() != parsed_url.origin():\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             auth = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             headers.pop(hdrs.AUTHORIZATION, None)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         url = parsed_url\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         params = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         resp.release()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         continue\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     break\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             # check response status\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             if raise_for_status is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 raise_for_status = self._raise_for_status\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             if raise_for_status:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >               resp.raise_for_status()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | /home/runneradmin/.cache/pypoetry/virtualenvs/stake-oSt3juwX-py3.8/lib/python3.8/site-packages/aiohttp/client.py:643: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <ClientResponse(https://global-prd-api.hellostake.com/api/user) [401 Unauthorized]>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | <CIMultiDictProxy('Content-Type': ... (CloudFront)', 'X-Amz-Cf-Pop': 'ARN1-C1', 'X-Amz-Cf-Id': '4oGL1WC-_UFXBZbqxCmhdm9HC_j6QXAljnvahbLDgtfDb1S63vw44w==')>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     def raise_for_status(self) -> None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if not self.ok:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             # reason should always be not None for a started response\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             assert self.reason is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             self.release()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >           raise ClientResponseError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self.request_info,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self.history,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 status=self.status,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 message=self.reason,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 headers=self.headers,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           aiohttp.client_exceptions.ClientResponseError: 401, message='Unauthorized', url=URL('https://global-prd-api.hellostake.com/api/user')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | /home/runneradmin/.cache/pypoetry/virtualenvs/stake-oSt3juwX-py3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py:1005: ClientResponseError\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | The above exception was the direct cause of the following exception:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | args = ()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | kwargs = {'mocker': <pytest_mock.plugin.MockerFixture object at 0x7f87f64ad250>, 'request': <SubRequest 'tracing_client' for <Function test_search_products[exchange0-CBA]>>}\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | request = <SubRequest 'tracing_client' for <Function test_search_products[exchange0-CBA]>>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | setup = <function pytest_fixture_setup.<locals>.wrapper.<locals>.setup at 0x7f87f63c6d30>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | finalizer = <function pytest_fixture_setup.<locals>.wrapper.<locals>.finalizer at 0x7f87f63c6f70>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     def wrapper(*args, **kwargs):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         loop = fixture_stripper.get_and_strip_from(FixtureStripper.EVENT_LOOP, kwargs)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         request = fixture_stripper.get_and_strip_from(FixtureStripper.REQUEST, kwargs)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         gen_obj = generator(*args, **kwargs)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         async def setup():\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             res = await gen_obj.__anext__()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             return res\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         def finalizer():\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             \"\"\"Yield again, to finalize.\"\"\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             async def async_finalizer():\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     await gen_obj.__anext__()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 except StopAsyncIteration:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     pass\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     msg = \"Async generator fixture didn't stop.\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     msg += \"Yield only once.\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     raise ValueError(msg)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             loop.run_until_complete(async_finalizer())\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         request.addfinalizer(finalizer)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >       return loop.run_until_complete(setup())\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | /home/runneradmin/.cache/pypoetry/virtualenvs/stake-oSt3juwX-py3.8/lib/python3.8/site-packages/pytest_asyncio/plugin.py:127: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | /opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/asyncio/base_events.py:616: in run_until_complete\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     return future.result()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | /home/runneradmin/.cache/pypoetry/virtualenvs/stake-oSt3juwX-py3.8/lib/python3.8/site-packages/pytest_asyncio/plugin.py:110: in setup\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     res = await gen_obj.__anext__()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/conftest.py:16: in tracing_client\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async with StakeClient() as client:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:254: in __aenter__\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     await self.login(self._login_request)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <stake.client.StakeClient object at 0x7f87f64ad070>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | login_request = SessionTokenLoginRequest(token='')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def login(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         self, login_request: Union[CredentialsLoginRequest, SessionTokenLoginRequest]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     ) -> user.User:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"Authenticates to the stake api.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Args:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             login_request (Union[CredentialsLoginRequest, SessionTokenLoginRequest]):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             you can authenticate either with your credentials(username, password)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             or with an existing session token.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Returns:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             user.User: the authenticated user.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if isinstance(login_request, CredentialsLoginRequest):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 data = await self.post(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     constant.NYSE.create_session,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     payload=login_request.dict(by_alias=True),\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self.headers.stake_session_token = data[\"sessionKey\"]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             except aiohttp.client_exceptions.ClientResponseError as error:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 raise InvalidLoginException(\"Invalid Login Credentials\") from error\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             self.headers.stake_session_token = login_request.token\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             user_data = await self.get(self.exchange.users)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         except aiohttp.client_exceptions.ClientResponseError as error:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >           raise InvalidLoginException(\"Invalid Session Token\") from error\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           stake.client.InvalidLoginException: Invalid Session Token\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:248: InvalidLoginException\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | ____________ ERROR at setup of test_search_products[exchange1-MSFT] ____________\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <stake.client.StakeClient object at 0x7f87f5827b20>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | login_request = SessionTokenLoginRequest(token='')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def login(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         self, login_request: Union[CredentialsLoginRequest, SessionTokenLoginRequest]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     ) -> user.User:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"Authenticates to the stake api.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Args:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             login_request (Union[CredentialsLoginRequest, SessionTokenLoginRequest]):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             you can authenticate either with your credentials(username, password)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             or with an existing session token.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Returns:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             user.User: the authenticated user.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if isinstance(login_request, CredentialsLoginRequest):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 data = await self.post(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     constant.NYSE.create_session,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     payload=login_request.dict(by_alias=True),\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self.headers.stake_session_token = data[\"sessionKey\"]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             except aiohttp.client_exceptions.ClientResponseError as error:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 raise InvalidLoginException(\"Invalid Login Credentials\") from error\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             self.headers.stake_session_token = login_request.token\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >           user_data = await self.get(self.exchange.users)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:246: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <stake.client.StakeClient object at 0x7f87f5827b20>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | url = 'https://global-prd-api.hellostake.com/api/user', payload = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def get(self, url: str, payload: dict = None) -> dict:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"Performs an HTTP get operation.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Args:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             url (str): the current endpoint\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             payload (dict): The request's body.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Returns:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             dict: the json response\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >       return await self.http_client.get(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             url, payload=payload, headers=self.headers.dict(by_alias=True)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:187: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | url = 'https://global-prd-api.hellostake.com/api/user', payload = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | headers = {'Accept': 'application/json', 'Content-Type': 'application/json', 'Stake-Session-Token': ''}\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     @staticmethod\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def get(url: str, payload: dict = None, headers: dict = None) -> dict:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         async with aiohttp.ClientSession(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             headers=headers, raise_for_status=True\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ) as session:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >           response = await session.get(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 HttpClient.url(url), headers=headers, json=payload\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:80: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <aiohttp.client.ClientSession object at 0x7f87f61404c0>, method = 'GET'\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | str_or_url = 'https://global-prd-api.hellostake.com/api/user'\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def _request(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         self,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         method: str,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         str_or_url: StrOrURL,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         *,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         params: Optional[Mapping[str, str]] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         data: Any = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         json: Any = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         cookies: Optional[LooseCookies] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         headers: Optional[LooseHeaders] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         skip_auto_headers: Optional[Iterable[str]] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         auth: Optional[BasicAuth] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         allow_redirects: bool = True,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         max_redirects: int = 10,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         compress: Optional[str] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         chunked: Optional[bool] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         expect100: bool = False,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         raise_for_status: Optional[bool] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         read_until_eof: bool = True,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         proxy: Optional[StrOrURL] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         proxy_auth: Optional[BasicAuth] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         timeout: Union[ClientTimeout, object] = sentinel,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         verify_ssl: Optional[bool] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         fingerprint: Optional[bytes] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ssl_context: Optional[SSLContext] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ssl: Optional[Union[SSLContext, bool, Fingerprint]] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         proxy_headers: Optional[LooseHeaders] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         trace_request_ctx: Optional[SimpleNamespace] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         read_bufsize: Optional[int] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     ) -> ClientResponse:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # NOTE: timeout clamps existing connect and read timeouts.  We cannot\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # set the default to None because we need to detect if the user wants\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # to use the existing timeouts by setting timeout to None.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if self.closed:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             raise RuntimeError(\"Session is closed\")\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ssl = _merge_ssl_params(ssl, verify_ssl, ssl_context, fingerprint)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if data is not None and json is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             raise ValueError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 \"data and json parameters can not be used at the same time\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         elif json is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             data = payload.JsonPayload(json, dumps=self._json_serialize)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if not isinstance(chunked, bool) and chunked is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             warnings.warn(\"Chunk size is deprecated #1615\", DeprecationWarning)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         redirects = 0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         history = []\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         version = self._version\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # Merge with default headers and transform to CIMultiDict\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         headers = self._prepare_headers(headers)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         proxy_headers = self._prepare_headers(proxy_headers)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             url = self._build_url(str_or_url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         except ValueError as e:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             raise InvalidURL(str_or_url) from e\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         skip_headers = set(self._skip_auto_headers)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if skip_auto_headers is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             for i in skip_auto_headers:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 skip_headers.add(istr(i))\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if proxy is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 proxy = URL(proxy)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             except ValueError as e:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 raise InvalidURL(proxy) from e\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if timeout is sentinel:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             real_timeout: ClientTimeout = self._timeout\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             if not isinstance(timeout, ClientTimeout):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 real_timeout = ClientTimeout(total=timeout)  # type: ignore[arg-type]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 real_timeout = timeout\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # timeout is cumulative for all request operations\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # (request, redirects, responses, data consuming)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         tm = TimeoutHandle(self._loop, real_timeout.total)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         handle = tm.start()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if read_bufsize is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             read_bufsize = self._read_bufsize\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         traces = [\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             Trace(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 trace_config,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 trace_config.trace_config_ctx(trace_request_ctx=trace_request_ctx),\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             for trace_config in self._trace_configs\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         for trace in traces:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             await trace.send_request_start(method, url.update_query(params), headers)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         timer = tm.timer()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             with timer:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 while True:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     url, auth_from_url = strip_auth_from_url(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if auth and auth_from_url:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise ValueError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"Cannot combine AUTH argument with \"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"credentials encoded in URL\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if auth is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         auth = auth_from_url\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if auth is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         auth = self._default_auth\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     # It would be confusing if we support explicit\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     # Authorization header with auth argument\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if (\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         headers is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         and auth is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         and hdrs.AUTHORIZATION in headers\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     ):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise ValueError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"Cannot combine AUTHORIZATION header \"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"with AUTH argument or credentials \"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"encoded in URL\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     all_cookies = self._cookie_jar.filter_cookies(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if cookies is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         tmp_cookie_jar = CookieJar()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         tmp_cookie_jar.update_cookies(cookies)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         req_cookies = tmp_cookie_jar.filter_cookies(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if req_cookies:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             all_cookies.load(req_cookies)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if proxy is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         proxy = URL(proxy)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     elif self._trust_env:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         with suppress(LookupError):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             proxy, proxy_auth = get_env_proxy_for_url(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     req = self._request_class(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         method,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         url,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         params=params,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         headers=headers,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         skip_auto_headers=skip_headers,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         data=data,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         cookies=all_cookies,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         auth=auth,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         version=version,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         compress=compress,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         chunked=chunked,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         expect100=expect100,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         loop=self._loop,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         response_class=self._response_class,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         proxy=proxy,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         proxy_auth=proxy_auth,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         timer=timer,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         session=self,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         ssl=ssl,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         proxy_headers=proxy_headers,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         traces=traces,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     # connection timeout\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         async with ceil_timeout(real_timeout.connect):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             assert self._connector is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             conn = await self._connector.connect(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 req, traces=traces, timeout=real_timeout\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     except asyncio.TimeoutError as exc:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise ServerTimeoutError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"Connection timeout \" \"to host {}\".format(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         ) from exc\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     assert conn.transport is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     assert conn.protocol is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     conn.protocol.set_response_params(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         timer=timer,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         skip_payload=method.upper() == \"HEAD\",\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         read_until_eof=read_until_eof,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         auto_decompress=self._auto_decompress,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         read_timeout=real_timeout.sock_read,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         read_bufsize=read_bufsize,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp = await req.send(conn)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 await resp.start(conn)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             except BaseException:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 resp.close()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 raise\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         except BaseException:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             conn.close()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     except ClientError:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     except OSError as exc:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if exc.errno is None and isinstance(exc, asyncio.TimeoutError):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise ClientOSError(*exc.args) from exc\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     self._cookie_jar.update_cookies(resp.cookies, resp.url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     # redirects\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if resp.status in (301, 302, 303, 307, 308) and allow_redirects:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         for trace in traces:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             await trace.send_request_redirect(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 method, url.update_query(params), headers, resp\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         redirects += 1\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         history.append(resp)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if max_redirects and redirects >= max_redirects:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp.close()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise TooManyRedirects(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 history[0].request_info, tuple(history)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         # For 301 and 302, mimic IE, now changed in RFC\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         # https://github.com/kennethreitz/requests/pull/269\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if (resp.status == 303 and resp.method != hdrs.METH_HEAD) or (\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp.status in (301, 302) and resp.method == hdrs.METH_POST\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         ):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             method = hdrs.METH_GET\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             data = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             if headers.get(hdrs.CONTENT_LENGTH):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 headers.pop(hdrs.CONTENT_LENGTH)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         r_url = resp.headers.get(hdrs.LOCATION) or resp.headers.get(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             hdrs.URI\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if r_url is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             # see github.com/aio-libs/aiohttp/issues/2022\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             break\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             # reading from correct redirection\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             # response is forbidden\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp.release()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             parsed_url = URL(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 r_url, encoded=not self._requote_redirect_url\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         except ValueError as e:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise InvalidURL(r_url) from e\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         scheme = parsed_url.scheme\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if scheme not in (\"http\", \"https\", \"\"):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp.close()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise ValueError(\"Can redirect only to http or https\")\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         elif not scheme:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             parsed_url = url.join(parsed_url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if url.origin() != parsed_url.origin():\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             auth = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             headers.pop(hdrs.AUTHORIZATION, None)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         url = parsed_url\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         params = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         resp.release()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         continue\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     break\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             # check response status\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             if raise_for_status is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 raise_for_status = self._raise_for_status\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             if raise_for_status:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >               resp.raise_for_status()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | /home/runneradmin/.cache/pypoetry/virtualenvs/stake-oSt3juwX-py3.8/lib/python3.8/site-packages/aiohttp/client.py:643: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <ClientResponse(https://global-prd-api.hellostake.com/api/user) [401 Unauthorized]>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | <CIMultiDictProxy('Content-Type': ... (CloudFront)', 'X-Amz-Cf-Pop': 'ARN1-C1', 'X-Amz-Cf-Id': 'tGCEFwna5hH9kb7DPzBw15rv34mqO2kbmeZ1L7Ln5zxBTPnEORFp7w==')>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     def raise_for_status(self) -> None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if not self.ok:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             # reason should always be not None for a started response\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             assert self.reason is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             self.release()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >           raise ClientResponseError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self.request_info,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self.history,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 status=self.status,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 message=self.reason,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 headers=self.headers,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           aiohttp.client_exceptions.ClientResponseError: 401, message='Unauthorized', url=URL('https://global-prd-api.hellostake.com/api/user')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | /home/runneradmin/.cache/pypoetry/virtualenvs/stake-oSt3juwX-py3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py:1005: ClientResponseError\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | The above exception was the direct cause of the following exception:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | args = ()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | kwargs = {'mocker': <pytest_mock.plugin.MockerFixture object at 0x7f87f5827af0>, 'request': <SubRequest 'tracing_client' for <Function test_search_products[exchange1-MSFT]>>}\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | request = <SubRequest 'tracing_client' for <Function test_search_products[exchange1-MSFT]>>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | setup = <function pytest_fixture_setup.<locals>.wrapper.<locals>.setup at 0x7f87f62c5310>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | finalizer = <function pytest_fixture_setup.<locals>.wrapper.<locals>.finalizer at 0x7f87f62c58b0>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     def wrapper(*args, **kwargs):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         loop = fixture_stripper.get_and_strip_from(FixtureStripper.EVENT_LOOP, kwargs)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         request = fixture_stripper.get_and_strip_from(FixtureStripper.REQUEST, kwargs)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         gen_obj = generator(*args, **kwargs)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         async def setup():\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             res = await gen_obj.__anext__()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             return res\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         def finalizer():\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             \"\"\"Yield again, to finalize.\"\"\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             async def async_finalizer():\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     await gen_obj.__anext__()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 except StopAsyncIteration:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     pass\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     msg = \"Async generator fixture didn't stop.\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     msg += \"Yield only once.\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     raise ValueError(msg)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             loop.run_until_complete(async_finalizer())\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         request.addfinalizer(finalizer)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >       return loop.run_until_complete(setup())\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | /home/runneradmin/.cache/pypoetry/virtualenvs/stake-oSt3juwX-py3.8/lib/python3.8/site-packages/pytest_asyncio/plugin.py:127: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | /opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/asyncio/base_events.py:616: in run_until_complete\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     return future.result()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | /home/runneradmin/.cache/pypoetry/virtualenvs/stake-oSt3juwX-py3.8/lib/python3.8/site-packages/pytest_asyncio/plugin.py:110: in setup\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     res = await gen_obj.__anext__()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/conftest.py:16: in tracing_client\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async with StakeClient() as client:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:254: in __aenter__\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     await self.login(self._login_request)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <stake.client.StakeClient object at 0x7f87f5827b20>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | login_request = SessionTokenLoginRequest(token='')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def login(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         self, login_request: Union[CredentialsLoginRequest, SessionTokenLoginRequest]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     ) -> user.User:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"Authenticates to the stake api.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Args:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             login_request (Union[CredentialsLoginRequest, SessionTokenLoginRequest]):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             you can authenticate either with your credentials(username, password)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             or with an existing session token.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Returns:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             user.User: the authenticated user.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if isinstance(login_request, CredentialsLoginRequest):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 data = await self.post(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     constant.NYSE.create_session,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     payload=login_request.dict(by_alias=True),\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self.headers.stake_session_token = data[\"sessionKey\"]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             except aiohttp.client_exceptions.ClientResponseError as error:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 raise InvalidLoginException(\"Invalid Login Credentials\") from error\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             self.headers.stake_session_token = login_request.token\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             user_data = await self.get(self.exchange.users)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         except aiohttp.client_exceptions.ClientResponseError as error:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >           raise InvalidLoginException(\"Invalid Session Token\") from error\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           stake.client.InvalidLoginException: Invalid Session Token\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:248: InvalidLoginException\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | =================================== FAILURES ===================================\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | ___________________ test_list_fundings[exchange0-request_0] ____________________\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tracing_client = <stake.client.StakeClient object at 0x7f87f6578730>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | exchange = NYSEUrl(STAKE_URL='https://global-prd-api.hellostake.com/api/', account_balance='https://global-prd-api.hellostake.com...atchlist/{watchlist_id}', update_watchlist='https://api.prd.stakeover.io/us/instrument/watchlist/{watchlist_id}/items')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | request_ = TransactionRecordRequest(to=datetime.datetime(2023, 7, 1, 15, 8, 48, 936033), from_=datetime.datetime(2022, 7, 1, 15, 8, 48, 936050), limit=1000, offset=None, direction=<TransactionRecordEnumDirection.prev: 'prev'>)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     @pytest.mark.parametrize(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"exchange, request_\",\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         (\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             (constant.NYSE, NYSEFundingRequest(limit=1000)),\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             (constant.ASX, ASXFundingRequest(limit=3)),\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ),\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     @pytest.mark.vcr()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     @pytest.mark.asyncio\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def test_list_fundings(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         tracing_client: stake.StakeClient,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         exchange: Union[constant.ASXUrl, constant.NYSEUrl],\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         request_: Union[ASXFundingRequest, NYSEFundingRequest],\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     ):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         tracing_client.set_exchange(exchange=exchange)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >       await tracing_client.fundings.list(request_)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_funding.py:26: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/funding.py:88: in list\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     details = await asyncio.gather(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:187: in get\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     return await self.http_client.get(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:80: in get\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     response = await session.get(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <aiohttp.client.ClientSession object at 0x7f87f6619730>, method = 'GET'\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | url = 'https://global-prd-api.hellostake.com/api/users/accounts/transactionDetails?reference=r9-6577610c&referenceType=Funding'\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | kwargs = {'allow_redirects': True, 'headers': {'Accept': 'application/json', 'Content-Type': 'application/json', 'Stake-Session-Token': ''}, 'json': None}\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | headers = <CIMultiDict('Accept': 'application/json', 'Content-Type': 'application/json', 'Stake-Session-Token': '')>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | auth = None, data = None, params = None, cookies = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | request_url = URL('https://global-prd-api.hellostake.com/api/users/accounts/transactionDetails?reference=r9-6577610c&referenceType=Funding')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | c_header = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     @functools.wraps(real_request)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def new_request(self, method, url, **kwargs):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         headers = kwargs.get(\"headers\")\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         auth = kwargs.get(\"auth\")\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         headers = self._prepare_headers(headers)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         data = kwargs.get(\"data\", kwargs.get(\"json\"))\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         params = kwargs.get(\"params\")\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         cookies = kwargs.get(\"cookies\")\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if auth is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             headers[\"AUTHORIZATION\"] = auth.encode()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         request_url = URL(url) if not params else _build_url_with_params(url, params)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         c_header = headers.pop(hdrs.COOKIE, None)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         cookie_header = _build_cookie_header(self, cookies, c_header, request_url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if cookie_header:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             headers[hdrs.COOKIE] = cookie_header\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         vcr_request = Request(method, str(request_url), data, _serialize_headers(headers))\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if cassette.can_play_response_for(vcr_request):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             log.info(\"Playing response for {} from cassette\".format(vcr_request))\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             response = play_responses(cassette, vcr_request, kwargs)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             for redirect in response.history:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self._cookie_jar.update_cookies(redirect.cookies, redirect.url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             self._cookie_jar.update_cookies(response.cookies, response.url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             return response\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if cassette.write_protected and cassette.filter_request(vcr_request):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >           raise CannotOverwriteExistingCassetteException(cassette=cassette, failed_request=vcr_request)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           vcr.errors.CannotOverwriteExistingCassetteException: Can't overwrite existing cassette ('/tmp/558156d8-17ed-11ee-8a50-bb14de238602/stabacco-stake-python/tests/cassettes/test_funding/test_list_fundings[exchange0-request_0].yaml') in your current record mode ('none').\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           No match for the request (<Request (GET) https://global-prd-api.hellostake.com/api/users/accounts/transactionDetails?reference=r9-6577610c&referenceType=Funding>) was found.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           Found 2 similar requests with 1 different matcher(s) :\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           1 - (<Request (GET) https://global-prd-api.hellostake.com/api/users/accounts/transactionDetails?reference=O9-7708124v&referenceType=Funding>).\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           Matchers succeeded : ['method', 'scheme', 'host', 'port', 'path']\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           Matchers failed :\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           query - assertion failure :\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           [('reference', 'r9-6577610c'), ('referenceType', 'Funding')] != [('reference', 'O9-7708124v'), ('referenceType', 'Funding')]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           assert [('reference'...', 'Funding')] == [('reference'...', 'Funding')]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E             At index 0 diff: ('reference', 'r9-6577610c') != ('reference', 'O9-7708124v')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E             Full diff:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E             - [('reference', 'O9-7708124v'), ('referenceType', 'Funding')]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E             ?                 ^     ^^^^^\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E             + [('reference', 'r9-6577610c'), ('referenceType', 'Funding')]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E             ?                 ^  ++  ++ ^\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           2 - (<Request (GET) https://global-prd-api.hellostake.com/api/users/accounts/transactionDetails?reference=O9-7708124v&referenceType=Funding>).\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           Matchers succeeded : ['method', 'scheme', 'host', 'port', 'path']\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           Matchers failed :\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           query - assertion failure :\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           [('reference', 'r9-6577610c'), ('referenceType', 'Funding')] != [('reference', 'O9-7708124v'), ('referenceType', 'Funding')]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           assert [('reference'...', 'Funding')] == [('reference'...', 'Funding')]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E             At index 0 diff: ('reference', 'r9-6577610c') != ('reference', 'O9-7708124v')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E             Full diff:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E             - [('reference', 'O9-7708124v'), ('referenceType', 'Funding')]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E             ?                 ^     ^^^^^\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E             + [('reference', 'r9-6577610c'), ('referenceType', 'Funding')]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E             ?                 ^  ++  ++ ^\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | /home/runneradmin/.cache/pypoetry/virtualenvs/stake-oSt3juwX-py3.8/lib/python3.8/site-packages/vcr/stubs/aiohttp_stubs.py:273: CannotOverwriteExistingCassetteException\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _________________________ test_integration[exchange0] __________________________\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <stake.client.StakeClient object at 0x7f87f6578af0>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | login_request = SessionTokenLoginRequest(token='')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def login(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         self, login_request: Union[CredentialsLoginRequest, SessionTokenLoginRequest]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     ) -> user.User:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"Authenticates to the stake api.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Args:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             login_request (Union[CredentialsLoginRequest, SessionTokenLoginRequest]):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             you can authenticate either with your credentials(username, password)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             or with an existing session token.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Returns:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             user.User: the authenticated user.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if isinstance(login_request, CredentialsLoginRequest):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 data = await self.post(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     constant.NYSE.create_session,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     payload=login_request.dict(by_alias=True),\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self.headers.stake_session_token = data[\"sessionKey\"]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             except aiohttp.client_exceptions.ClientResponseError as error:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 raise InvalidLoginException(\"Invalid Login Credentials\") from error\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             self.headers.stake_session_token = login_request.token\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >           user_data = await self.get(self.exchange.users)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:246: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <stake.client.StakeClient object at 0x7f87f6578af0>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | url = 'https://global-prd-api.hellostake.com/api/user', payload = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def get(self, url: str, payload: dict = None) -> dict:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"Performs an HTTP get operation.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Args:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             url (str): the current endpoint\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             payload (dict): The request's body.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Returns:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             dict: the json response\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >       return await self.http_client.get(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             url, payload=payload, headers=self.headers.dict(by_alias=True)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:187: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | url = 'https://global-prd-api.hellostake.com/api/user', payload = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | headers = {'Accept': 'application/json', 'Content-Type': 'application/json', 'Stake-Session-Token': ''}\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     @staticmethod\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def get(url: str, payload: dict = None, headers: dict = None) -> dict:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         async with aiohttp.ClientSession(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             headers=headers, raise_for_status=True\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ) as session:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >           response = await session.get(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 HttpClient.url(url), headers=headers, json=payload\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:80: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <aiohttp.client.ClientSession object at 0x7f87f65788e0>, method = 'GET'\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | str_or_url = 'https://global-prd-api.hellostake.com/api/user'\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def _request(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         self,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         method: str,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         str_or_url: StrOrURL,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         *,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         params: Optional[Mapping[str, str]] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         data: Any = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         json: Any = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         cookies: Optional[LooseCookies] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         headers: Optional[LooseHeaders] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         skip_auto_headers: Optional[Iterable[str]] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         auth: Optional[BasicAuth] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         allow_redirects: bool = True,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         max_redirects: int = 10,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         compress: Optional[str] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         chunked: Optional[bool] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         expect100: bool = False,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         raise_for_status: Optional[bool] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         read_until_eof: bool = True,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         proxy: Optional[StrOrURL] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         proxy_auth: Optional[BasicAuth] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         timeout: Union[ClientTimeout, object] = sentinel,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         verify_ssl: Optional[bool] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         fingerprint: Optional[bytes] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ssl_context: Optional[SSLContext] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ssl: Optional[Union[SSLContext, bool, Fingerprint]] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         proxy_headers: Optional[LooseHeaders] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         trace_request_ctx: Optional[SimpleNamespace] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         read_bufsize: Optional[int] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     ) -> ClientResponse:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # NOTE: timeout clamps existing connect and read timeouts.  We cannot\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # set the default to None because we need to detect if the user wants\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # to use the existing timeouts by setting timeout to None.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if self.closed:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             raise RuntimeError(\"Session is closed\")\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ssl = _merge_ssl_params(ssl, verify_ssl, ssl_context, fingerprint)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if data is not None and json is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             raise ValueError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 \"data and json parameters can not be used at the same time\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         elif json is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             data = payload.JsonPayload(json, dumps=self._json_serialize)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if not isinstance(chunked, bool) and chunked is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             warnings.warn(\"Chunk size is deprecated #1615\", DeprecationWarning)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         redirects = 0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         history = []\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         version = self._version\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # Merge with default headers and transform to CIMultiDict\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         headers = self._prepare_headers(headers)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         proxy_headers = self._prepare_headers(proxy_headers)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             url = self._build_url(str_or_url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         except ValueError as e:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             raise InvalidURL(str_or_url) from e\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         skip_headers = set(self._skip_auto_headers)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if skip_auto_headers is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             for i in skip_auto_headers:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 skip_headers.add(istr(i))\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if proxy is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 proxy = URL(proxy)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             except ValueError as e:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 raise InvalidURL(proxy) from e\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if timeout is sentinel:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             real_timeout: ClientTimeout = self._timeout\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             if not isinstance(timeout, ClientTimeout):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 real_timeout = ClientTimeout(total=timeout)  # type: ignore[arg-type]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 real_timeout = timeout\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # timeout is cumulative for all request operations\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # (request, redirects, responses, data consuming)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         tm = TimeoutHandle(self._loop, real_timeout.total)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         handle = tm.start()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if read_bufsize is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             read_bufsize = self._read_bufsize\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         traces = [\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             Trace(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 trace_config,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 trace_config.trace_config_ctx(trace_request_ctx=trace_request_ctx),\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             for trace_config in self._trace_configs\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         for trace in traces:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             await trace.send_request_start(method, url.update_query(params), headers)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         timer = tm.timer()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             with timer:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 while True:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     url, auth_from_url = strip_auth_from_url(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if auth and auth_from_url:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise ValueError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"Cannot combine AUTH argument with \"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"credentials encoded in URL\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if auth is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         auth = auth_from_url\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if auth is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         auth = self._default_auth\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     # It would be confusing if we support explicit\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     # Authorization header with auth argument\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if (\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         headers is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         and auth is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         and hdrs.AUTHORIZATION in headers\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     ):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise ValueError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"Cannot combine AUTHORIZATION header \"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"with AUTH argument or credentials \"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"encoded in URL\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     all_cookies = self._cookie_jar.filter_cookies(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if cookies is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         tmp_cookie_jar = CookieJar()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         tmp_cookie_jar.update_cookies(cookies)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         req_cookies = tmp_cookie_jar.filter_cookies(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if req_cookies:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             all_cookies.load(req_cookies)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if proxy is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         proxy = URL(proxy)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     elif self._trust_env:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         with suppress(LookupError):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             proxy, proxy_auth = get_env_proxy_for_url(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     req = self._request_class(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         method,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         url,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         params=params,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         headers=headers,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         skip_auto_headers=skip_headers,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         data=data,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         cookies=all_cookies,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         auth=auth,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         version=version,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         compress=compress,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         chunked=chunked,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         expect100=expect100,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         loop=self._loop,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         response_class=self._response_class,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         proxy=proxy,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         proxy_auth=proxy_auth,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         timer=timer,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         session=self,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         ssl=ssl,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         proxy_headers=proxy_headers,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         traces=traces,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     # connection timeout\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         async with ceil_timeout(real_timeout.connect):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             assert self._connector is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             conn = await self._connector.connect(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 req, traces=traces, timeout=real_timeout\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     except asyncio.TimeoutError as exc:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise ServerTimeoutError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"Connection timeout \" \"to host {}\".format(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         ) from exc\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     assert conn.transport is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     assert conn.protocol is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     conn.protocol.set_response_params(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         timer=timer,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         skip_payload=method.upper() == \"HEAD\",\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         read_until_eof=read_until_eof,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         auto_decompress=self._auto_decompress,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         read_timeout=real_timeout.sock_read,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         read_bufsize=read_bufsize,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp = await req.send(conn)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 await resp.start(conn)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             except BaseException:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 resp.close()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 raise\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         except BaseException:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             conn.close()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     except ClientError:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     except OSError as exc:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if exc.errno is None and isinstance(exc, asyncio.TimeoutError):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise ClientOSError(*exc.args) from exc\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     self._cookie_jar.update_cookies(resp.cookies, resp.url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     # redirects\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if resp.status in (301, 302, 303, 307, 308) and allow_redirects:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         for trace in traces:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             await trace.send_request_redirect(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 method, url.update_query(params), headers, resp\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         redirects += 1\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         history.append(resp)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if max_redirects and redirects >= max_redirects:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp.close()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise TooManyRedirects(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 history[0].request_info, tuple(history)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         # For 301 and 302, mimic IE, now changed in RFC\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         # https://github.com/kennethreitz/requests/pull/269\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if (resp.status == 303 and resp.method != hdrs.METH_HEAD) or (\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp.status in (301, 302) and resp.method == hdrs.METH_POST\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         ):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             method = hdrs.METH_GET\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             data = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             if headers.get(hdrs.CONTENT_LENGTH):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 headers.pop(hdrs.CONTENT_LENGTH)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         r_url = resp.headers.get(hdrs.LOCATION) or resp.headers.get(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             hdrs.URI\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if r_url is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             # see github.com/aio-libs/aiohttp/issues/2022\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             break\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             # reading from correct redirection\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             # response is forbidden\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp.release()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             parsed_url = URL(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 r_url, encoded=not self._requote_redirect_url\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         except ValueError as e:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise InvalidURL(r_url) from e\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         scheme = parsed_url.scheme\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if scheme not in (\"http\", \"https\", \"\"):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp.close()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise ValueError(\"Can redirect only to http or https\")\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         elif not scheme:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             parsed_url = url.join(parsed_url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if url.origin() != parsed_url.origin():\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             auth = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             headers.pop(hdrs.AUTHORIZATION, None)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         url = parsed_url\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         params = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         resp.release()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         continue\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     break\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             # check response status\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             if raise_for_status is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 raise_for_status = self._raise_for_status\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             if raise_for_status:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >               resp.raise_for_status()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | /home/runneradmin/.cache/pypoetry/virtualenvs/stake-oSt3juwX-py3.8/lib/python3.8/site-packages/aiohttp/client.py:643: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <ClientResponse(https://global-prd-api.hellostake.com/api/user) [401 Unauthorized]>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | <CIMultiDictProxy('Content-Type': ... (CloudFront)', 'X-Amz-Cf-Pop': 'ARN1-C1', 'X-Amz-Cf-Id': 'vlucjDdqcDPQlRQopw89bYqc4hAuGrIYTW1UXdKf6JozS9j04fOPUA==')>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     def raise_for_status(self) -> None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if not self.ok:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             # reason should always be not None for a started response\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             assert self.reason is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             self.release()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >           raise ClientResponseError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self.request_info,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self.history,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 status=self.status,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 message=self.reason,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 headers=self.headers,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           aiohttp.client_exceptions.ClientResponseError: 401, message='Unauthorized', url=URL('https://global-prd-api.hellostake.com/api/user')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | /home/runneradmin/.cache/pypoetry/virtualenvs/stake-oSt3juwX-py3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py:1005: ClientResponseError\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | The above exception was the direct cause of the following exception:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | exchange = NYSEUrl(STAKE_URL='https://global-prd-api.hellostake.com/api/', account_balance='https://global-prd-api.hellostake.com...atchlist/{watchlist_id}', update_watchlist='https://api.prd.stakeover.io/us/instrument/watchlist/{watchlist_id}/items')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     @pytest.mark.parametrize(\"exchange\", (constant.NYSE, constant.ASX))\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     @pytest.mark.asyncio\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def test_integration(exchange):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >       async with stake.StakeClient(exchange=exchange) as session:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_integration.py:14: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:254: in __aenter__\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     await self.login(self._login_request)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <stake.client.StakeClient object at 0x7f87f6578af0>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | login_request = SessionTokenLoginRequest(token='')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def login(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         self, login_request: Union[CredentialsLoginRequest, SessionTokenLoginRequest]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     ) -> user.User:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"Authenticates to the stake api.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Args:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             login_request (Union[CredentialsLoginRequest, SessionTokenLoginRequest]):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             you can authenticate either with your credentials(username, password)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             or with an existing session token.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Returns:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             user.User: the authenticated user.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if isinstance(login_request, CredentialsLoginRequest):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 data = await self.post(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     constant.NYSE.create_session,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     payload=login_request.dict(by_alias=True),\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self.headers.stake_session_token = data[\"sessionKey\"]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             except aiohttp.client_exceptions.ClientResponseError as error:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 raise InvalidLoginException(\"Invalid Login Credentials\") from error\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             self.headers.stake_session_token = login_request.token\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             user_data = await self.get(self.exchange.users)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         except aiohttp.client_exceptions.ClientResponseError as error:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >           raise InvalidLoginException(\"Invalid Session Token\") from error\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           stake.client.InvalidLoginException: Invalid Session Token\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:248: InvalidLoginException\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _________________________ test_integration[exchange1] __________________________\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <stake.client.StakeClient object at 0x7f87f62be790>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | login_request = SessionTokenLoginRequest(token='')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def login(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         self, login_request: Union[CredentialsLoginRequest, SessionTokenLoginRequest]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     ) -> user.User:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"Authenticates to the stake api.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Args:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             login_request (Union[CredentialsLoginRequest, SessionTokenLoginRequest]):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             you can authenticate either with your credentials(username, password)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             or with an existing session token.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Returns:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             user.User: the authenticated user.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if isinstance(login_request, CredentialsLoginRequest):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 data = await self.post(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     constant.NYSE.create_session,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     payload=login_request.dict(by_alias=True),\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self.headers.stake_session_token = data[\"sessionKey\"]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             except aiohttp.client_exceptions.ClientResponseError as error:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 raise InvalidLoginException(\"Invalid Login Credentials\") from error\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             self.headers.stake_session_token = login_request.token\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >           user_data = await self.get(self.exchange.users)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:246: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <stake.client.StakeClient object at 0x7f87f62be790>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | url = 'https://global-prd-api.hellostake.com/api/user', payload = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def get(self, url: str, payload: dict = None) -> dict:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"Performs an HTTP get operation.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Args:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             url (str): the current endpoint\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             payload (dict): The request's body.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Returns:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             dict: the json response\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >       return await self.http_client.get(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             url, payload=payload, headers=self.headers.dict(by_alias=True)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:187: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | url = 'https://global-prd-api.hellostake.com/api/user', payload = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | headers = {'Accept': 'application/json', 'Content-Type': 'application/json', 'Stake-Session-Token': ''}\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     @staticmethod\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def get(url: str, payload: dict = None, headers: dict = None) -> dict:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         async with aiohttp.ClientSession(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             headers=headers, raise_for_status=True\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ) as session:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >           response = await session.get(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 HttpClient.url(url), headers=headers, json=payload\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:80: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <aiohttp.client.ClientSession object at 0x7f87f62bec10>, method = 'GET'\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | str_or_url = 'https://global-prd-api.hellostake.com/api/user'\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def _request(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         self,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         method: str,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         str_or_url: StrOrURL,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         *,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         params: Optional[Mapping[str, str]] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         data: Any = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         json: Any = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         cookies: Optional[LooseCookies] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         headers: Optional[LooseHeaders] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         skip_auto_headers: Optional[Iterable[str]] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         auth: Optional[BasicAuth] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         allow_redirects: bool = True,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         max_redirects: int = 10,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         compress: Optional[str] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         chunked: Optional[bool] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         expect100: bool = False,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         raise_for_status: Optional[bool] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         read_until_eof: bool = True,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         proxy: Optional[StrOrURL] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         proxy_auth: Optional[BasicAuth] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         timeout: Union[ClientTimeout, object] = sentinel,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         verify_ssl: Optional[bool] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         fingerprint: Optional[bytes] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ssl_context: Optional[SSLContext] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ssl: Optional[Union[SSLContext, bool, Fingerprint]] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         proxy_headers: Optional[LooseHeaders] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         trace_request_ctx: Optional[SimpleNamespace] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         read_bufsize: Optional[int] = None,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     ) -> ClientResponse:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # NOTE: timeout clamps existing connect and read timeouts.  We cannot\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # set the default to None because we need to detect if the user wants\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # to use the existing timeouts by setting timeout to None.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if self.closed:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             raise RuntimeError(\"Session is closed\")\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ssl = _merge_ssl_params(ssl, verify_ssl, ssl_context, fingerprint)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if data is not None and json is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             raise ValueError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 \"data and json parameters can not be used at the same time\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         elif json is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             data = payload.JsonPayload(json, dumps=self._json_serialize)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if not isinstance(chunked, bool) and chunked is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             warnings.warn(\"Chunk size is deprecated #1615\", DeprecationWarning)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         redirects = 0\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         history = []\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         version = self._version\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # Merge with default headers and transform to CIMultiDict\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         headers = self._prepare_headers(headers)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         proxy_headers = self._prepare_headers(proxy_headers)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             url = self._build_url(str_or_url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         except ValueError as e:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             raise InvalidURL(str_or_url) from e\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         skip_headers = set(self._skip_auto_headers)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if skip_auto_headers is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             for i in skip_auto_headers:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 skip_headers.add(istr(i))\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if proxy is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 proxy = URL(proxy)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             except ValueError as e:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 raise InvalidURL(proxy) from e\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if timeout is sentinel:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             real_timeout: ClientTimeout = self._timeout\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             if not isinstance(timeout, ClientTimeout):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 real_timeout = ClientTimeout(total=timeout)  # type: ignore[arg-type]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 real_timeout = timeout\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # timeout is cumulative for all request operations\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         # (request, redirects, responses, data consuming)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         tm = TimeoutHandle(self._loop, real_timeout.total)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         handle = tm.start()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if read_bufsize is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             read_bufsize = self._read_bufsize\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         traces = [\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             Trace(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 trace_config,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 trace_config.trace_config_ctx(trace_request_ctx=trace_request_ctx),\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             for trace_config in self._trace_configs\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         ]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         for trace in traces:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             await trace.send_request_start(method, url.update_query(params), headers)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         timer = tm.timer()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             with timer:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 while True:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     url, auth_from_url = strip_auth_from_url(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if auth and auth_from_url:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise ValueError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"Cannot combine AUTH argument with \"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"credentials encoded in URL\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if auth is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         auth = auth_from_url\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if auth is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         auth = self._default_auth\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     # It would be confusing if we support explicit\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     # Authorization header with auth argument\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if (\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         headers is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         and auth is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         and hdrs.AUTHORIZATION in headers\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     ):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise ValueError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"Cannot combine AUTHORIZATION header \"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"with AUTH argument or credentials \"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"encoded in URL\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     all_cookies = self._cookie_jar.filter_cookies(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if cookies is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         tmp_cookie_jar = CookieJar()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         tmp_cookie_jar.update_cookies(cookies)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         req_cookies = tmp_cookie_jar.filter_cookies(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if req_cookies:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             all_cookies.load(req_cookies)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if proxy is not None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         proxy = URL(proxy)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     elif self._trust_env:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         with suppress(LookupError):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             proxy, proxy_auth = get_env_proxy_for_url(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     req = self._request_class(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         method,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         url,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         params=params,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         headers=headers,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         skip_auto_headers=skip_headers,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         data=data,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         cookies=all_cookies,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         auth=auth,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         version=version,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         compress=compress,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         chunked=chunked,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         expect100=expect100,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         loop=self._loop,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         response_class=self._response_class,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         proxy=proxy,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         proxy_auth=proxy_auth,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         timer=timer,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         session=self,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         ssl=ssl,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         proxy_headers=proxy_headers,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         traces=traces,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     # connection timeout\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         async with ceil_timeout(real_timeout.connect):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             assert self._connector is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             conn = await self._connector.connect(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 req, traces=traces, timeout=real_timeout\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     except asyncio.TimeoutError as exc:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise ServerTimeoutError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             \"Connection timeout \" \"to host {}\".format(url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         ) from exc\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     assert conn.transport is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     assert conn.protocol is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     conn.protocol.set_response_params(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         timer=timer,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         skip_payload=method.upper() == \"HEAD\",\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         read_until_eof=read_until_eof,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         auto_decompress=self._auto_decompress,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         read_timeout=real_timeout.sock_read,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         read_bufsize=read_bufsize,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp = await req.send(conn)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 await resp.start(conn)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             except BaseException:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 resp.close()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 raise\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         except BaseException:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             conn.close()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     except ClientError:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     except OSError as exc:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if exc.errno is None and isinstance(exc, asyncio.TimeoutError):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         raise ClientOSError(*exc.args) from exc\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     self._cookie_jar.update_cookies(resp.cookies, resp.url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     # redirects\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     if resp.status in (301, 302, 303, 307, 308) and allow_redirects:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         for trace in traces:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             await trace.send_request_redirect(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 method, url.update_query(params), headers, resp\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         redirects += 1\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         history.append(resp)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if max_redirects and redirects >= max_redirects:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp.close()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise TooManyRedirects(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 history[0].request_info, tuple(history)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         # For 301 and 302, mimic IE, now changed in RFC\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         # https://github.com/kennethreitz/requests/pull/269\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if (resp.status == 303 and resp.method != hdrs.METH_HEAD) or (\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp.status in (301, 302) and resp.method == hdrs.METH_POST\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         ):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             method = hdrs.METH_GET\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             data = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             if headers.get(hdrs.CONTENT_LENGTH):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 headers.pop(hdrs.CONTENT_LENGTH)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         r_url = resp.headers.get(hdrs.LOCATION) or resp.headers.get(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             hdrs.URI\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if r_url is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             # see github.com/aio-libs/aiohttp/issues/2022\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             break\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             # reading from correct redirection\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             # response is forbidden\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp.release()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             parsed_url = URL(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                                 r_url, encoded=not self._requote_redirect_url\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         except ValueError as e:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise InvalidURL(r_url) from e\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         scheme = parsed_url.scheme\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if scheme not in (\"http\", \"https\", \"\"):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             resp.close()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             raise ValueError(\"Can redirect only to http or https\")\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         elif not scheme:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             parsed_url = url.join(parsed_url)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         if url.origin() != parsed_url.origin():\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             auth = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                             headers.pop(hdrs.AUTHORIZATION, None)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         url = parsed_url\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         params = None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         resp.release()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                         continue\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     break\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             # check response status\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             if raise_for_status is None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 raise_for_status = self._raise_for_status\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             if raise_for_status:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >               resp.raise_for_status()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | /home/runneradmin/.cache/pypoetry/virtualenvs/stake-oSt3juwX-py3.8/lib/python3.8/site-packages/aiohttp/client.py:643: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <ClientResponse(https://global-prd-api.hellostake.com/api/user) [401 Unauthorized]>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | <CIMultiDictProxy('Content-Type': ... (CloudFront)', 'X-Amz-Cf-Pop': 'ARN1-C1', 'X-Amz-Cf-Id': 'ndU8dplBD204qw_XXMpshbr7dQqHRWfNOZ65NMHD6-il96_indvMvQ==')>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     def raise_for_status(self) -> None:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if not self.ok:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             # reason should always be not None for a started response\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             assert self.reason is not None\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             self.release()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >           raise ClientResponseError(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self.request_info,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self.history,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 status=self.status,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 message=self.reason,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 headers=self.headers,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           aiohttp.client_exceptions.ClientResponseError: 401, message='Unauthorized', url=URL('https://global-prd-api.hellostake.com/api/user')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | /home/runneradmin/.cache/pypoetry/virtualenvs/stake-oSt3juwX-py3.8/lib/python3.8/site-packages/aiohttp/client_reqrep.py:1005: ClientResponseError\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | The above exception was the direct cause of the following exception:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | exchange = ASXUrl(ASX_STAKE_URL='https://global-prd-api.hellostake.com/api/asx/', cash_available='https://global-prd-api.hellosta...sx/instrument/v2/watchlists', create_watchlist='https://global-prd-api.hellostake.com/api/asx/instrument/v2/watchlist')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     @pytest.mark.parametrize(\"exchange\", (constant.NYSE, constant.ASX))\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     @pytest.mark.asyncio\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def test_integration(exchange):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >       async with stake.StakeClient(exchange=exchange) as session:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_integration.py:14: \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:254: in __aenter__\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     await self.login(self._login_request)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | self = <stake.client.StakeClient object at 0x7f87f62be790>\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | login_request = SessionTokenLoginRequest(token='')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     async def login(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         self, login_request: Union[CredentialsLoginRequest, SessionTokenLoginRequest]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     ) -> user.User:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"Authenticates to the stake api.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Args:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             login_request (Union[CredentialsLoginRequest, SessionTokenLoginRequest]):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             you can authenticate either with your credentials(username, password)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             or with an existing session token.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         Returns:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             user.User: the authenticated user.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         \"\"\"\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         if isinstance(login_request, CredentialsLoginRequest):\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 data = await self.post(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     constant.NYSE.create_session,\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                     payload=login_request.dict(by_alias=True),\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 )\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 self.headers.stake_session_token = data[\"sessionKey\"]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             except aiohttp.client_exceptions.ClientResponseError as error:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |                 raise InvalidLoginException(\"Invalid Login Credentials\") from error\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         else:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             self.headers.stake_session_token = login_request.token\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         try:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |             user_data = await self.get(self.exchange.users)\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |         except aiohttp.client_exceptions.ClientResponseError as error:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | >           raise InvalidLoginException(\"Invalid Session Token\") from error\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | E           stake.client.InvalidLoginException: Invalid Session Token\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | stake/client.py:248: InvalidLoginException\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | =============================== warnings summary ===============================\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_watchlist.py::test_add_to_watchlist\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   /tmp/558156d8-17ed-11ee-8a50-bb14de238602/stabacco-stake-python/tests/test_watchlist.py:21: DeprecationWarning: This method is deprecated, please use `add_to_watchlist` instead.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     added = await tracing_client.watchlist.add(AddToWatchlistRequest(symbol=\"SPOT\"))\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_watchlist.py::test_remove_from_watchlist\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   /tmp/558156d8-17ed-11ee-8a50-bb14de238602/stabacco-stake-python/tests/test_watchlist.py:29: DeprecationWarning: This method is deprecated, please use `remove_from_watchlist` instead.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     removed = await tracing_client.watchlist.remove(\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | tests/test_watchlist.py::test_list_watchlist\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   /tmp/558156d8-17ed-11ee-8a50-bb14de238602/stabacco-stake-python/tests/test_watchlist.py:38: DeprecationWarning: This method is deprecated, please use `watchlist` instead.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |     watched = await tracing_client.watchlist.list()\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | - generated xml file: /tmp/558156d8-17ed-11ee-8a50-bb14de238602/stabacco-stake-python/report.xml -\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | ---------- coverage: platform linux, python 3.8.11-final-0 -----------\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Coverage XML written to file coverage.xml\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | =========================== short test summary info ============================\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | FAILED tests/test_funding.py::test_list_fundings[exchange0-request_0] - vcr.errors.CannotOverwriteExistingCassetteException: Can't overwrite existing cassette ('/tmp/558156d8-17ed-11ee-8a50-bb14de238602/stabacco-stake-python/tests/cassettes/test_funding/test_list_fundings[exchange0-request_0].yaml') in your current record mode ('none').\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | No match for the request (<Request (GET) https://global-prd-api.hellostake.com/api/users/accounts/transactionDetails?reference=r9-6577610c&referenceType=Funding>) was found.\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Found 2 similar requests with 1 different matcher(s) :\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | 1 - (<Request (GET) https://global-prd-api.hellostake.com/api/users/accounts/transactionDetails?reference=O9-7708124v&referenceType=Funding>).\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Matchers succeeded : ['method', 'scheme', 'host', 'port', 'path']\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Matchers failed :\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | query - assertion failure :\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | [('reference', 'r9-6577610c'), ('referenceType', 'Funding')] != [('reference', 'O9-7708124v'), ('referenceType', 'Funding')]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | assert [('reference'...', 'Funding')] == [('reference'...', 'Funding')]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   At index 0 diff: ('reference', 'r9-6577610c') != ('reference', 'O9-7708124v')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Full diff:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   - [('reference', 'O9-7708124v'), ('referenceType', 'Funding')]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   ?                 ^     ^^^^^\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   + [('reference', 'r9-6577610c'), ('referenceType', 'Funding')]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   ?                 ^  ++  ++ ^\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | \n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | 2 - (<Request (GET) https://global-prd-api.hellostake.com/api/users/accounts/transactionDetails?reference=O9-7708124v&referenceType=Funding>).\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Matchers succeeded : ['method', 'scheme', 'host', 'port', 'path']\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | Matchers failed :\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | query - assertion failure :\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | [('reference', 'r9-6577610c'), ('referenceType', 'Funding')] != [('reference', 'O9-7708124v'), ('referenceType', 'Funding')]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | assert [('reference'...', 'Funding')] == [('reference'...', 'Funding')]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   At index 0 diff: ('reference', 'r9-6577610c') != ('reference', 'O9-7708124v')\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   Full diff:\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   - [('reference', 'O9-7708124v'), ('referenceType', 'Funding')]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   ?                 ^     ^^^^^\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   + [('reference', 'r9-6577610c'), ('referenceType', 'Funding')]\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   |   ?                 ^  ++  ++ ^\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | FAILED tests/test_integration.py::test_integration[exchange0] - stake.client.InvalidLoginException: Invalid Session Token\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | FAILED tests/test_integration.py::test_integration[exchange1] - stake.client.InvalidLoginException: Invalid Session Token\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | ERROR tests/test_product.py::test_search_products[exchange0-CBA] - stake.client.InvalidLoginException: Invalid Session Token\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | ERROR tests/test_product.py::test_search_products[exchange1-MSFT] - stake.client.InvalidLoginException: Invalid Session Token\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   | ============= 3 failed, 39 passed, 3 warnings, 2 errors in 10.32s ==============\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u274c  Failure - Main Run Tests\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci] exitcode '1': failure\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci] \u2b50 Run Post Run image\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udc33  docker cp src=/tmp/act-cache/b7302166-a15c-460a-9b86-bdef51fb0779/act/abatilo-actions-poetry@v2.0.0/ dst=/var/run/act/actions/abatilo-actions-poetry@v2.0.0/\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \ud83d\udc33  docker exec cmd=[chown -R 1012:1013 /var/run/act/actions/abatilo-actions-poetry@v2.0.0/] user=0 workdir=\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci]   \u2705  Success - Post Run image\n[08e8b649-c045-400f-acea-d49a20a0b1b4/ci] \ud83c\udfc1  Job failed\n",
        "stderr": "Error: Job 'ci' failed\n",
        "workflow": {
            "path": "/tmp/558156d8-17ed-11ee-8a50-bb14de238602/stabacco-stake-python/.github/workflows/test-crawler.yml",
            "type": "pytest"
        },
        "workflow_name": "08e8b649-c045-400f-acea-d49a20a0b1b4",
        "build_tool": "pytest",
        "elapsed_time": 236.0690896511078
    }
}