{
    "repository": "SynoCommunity/spkrepo",
    "clone_url": "https://github.com/SynoCommunity/spkrepo.git",
    "timestamp": "2023-05-29T15:48:23.568389Z",
    "clone_success": true,
    "number of actions": 2,
    "number_of_test_actions": 1,
    "actions_successful": false,
    "actions_stdout": "[Build/pre-commit] \ud83d\ude80  Start image=crawlergpt:latest\n[Build/test      ] \ud83d\ude80  Start image=crawlergpt:latest\n[Build/test      ]   \ud83d\udc33  docker pull image=crawlergpt:latest platform= username= forcePull=false\n[Build/pre-commit]   \ud83d\udc33  docker pull image=crawlergpt:latest platform= username= forcePull=false\n[Build/test      ]   \ud83d\udc33  docker create image=crawlergpt:latest platform= entrypoint=[\"tail\" \"-f\" \"/dev/null\"] cmd=[]\n[Build/pre-commit]   \ud83d\udc33  docker create image=crawlergpt:latest platform= entrypoint=[\"tail\" \"-f\" \"/dev/null\"] cmd=[]\n[Build/test      ]   \ud83d\udc33  docker run image=crawlergpt:latest platform= entrypoint=[\"tail\" \"-f\" \"/dev/null\"] cmd=[]\n[Build/pre-commit]   \ud83d\udc33  docker run image=crawlergpt:latest platform= entrypoint=[\"tail\" \"-f\" \"/dev/null\"] cmd=[]\n[Build/pre-commit]   \ud83d\udc33  docker exec cmd=[chown -R 1012:1000 /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo] user=0 workdir=\n[Build/test      ]   \ud83d\udc33  docker exec cmd=[chown -R 1012:1000 /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo] user=0 workdir=\n[Build/test      ]   \u2601  git clone 'https://github.com/actions/setup-python' # ref=v2\n[Build/pre-commit]   \u2601  git clone 'https://github.com/actions/setup-python' # ref=v2\n[Build/test      ]   \u2601  git clone 'https://github.com/snok/install-poetry' # ref=v1.2.0\n[Build/pre-commit]   \u2601  git clone 'https://github.com/pre-commit/action' # ref=v2.0.0\n[Build/test      ] \u2b50 Run Pre snok/install-poetry@v1.2.0\n[Build/pre-commit] \u2b50 Run Main actions/checkout@v2\n[Build/test      ]   \u2705  Success - Pre snok/install-poetry@v1.2.0\n[Build/pre-commit]   \u2705  Success - Main actions/checkout@v2\n[Build/test      ]   \u2601  git clone 'https://github.com/actions/cache' # ref=v2\n[Build/pre-commit] \u2b50 Run Main actions/setup-python@v2\n[Build/pre-commit]   \ud83d\udc33  docker cp src=/home/andre-silva/.cache/act/actions-setup-python@v2/ dst=/var/run/act/actions/actions-setup-python@v2/\n[Build/test      ] \u2b50 Run Main actions/checkout@v2\n[Build/test      ]   \u2705  Success - Main actions/checkout@v2\n[Build/pre-commit]   \ud83d\udc33  docker exec cmd=[chown -R 1012:1000 /var/run/act/actions/actions-setup-python@v2/] user=0 workdir=\n[Build/test      ] \u2b50 Run Main actions/setup-python@v2\n[Build/test      ]   \ud83d\udc33  docker cp src=/home/andre-silva/.cache/act/actions-setup-python@v2/ dst=/var/run/act/actions/actions-setup-python@v2/\n[Build/test      ]   \ud83d\udc33  docker exec cmd=[chown -R 1012:1000 /var/run/act/actions/actions-setup-python@v2/] user=0 workdir=\n[Build/pre-commit]   \ud83d\udc33  docker exec cmd=[node /var/run/act/actions/actions-setup-python@v2/dist/setup/index.js] user= workdir=\n[Build/test      ]   \ud83d\udc33  docker exec cmd=[node /var/run/act/actions/actions-setup-python@v2/dist/setup/index.js] user= workdir=\n[Build/test      ]   \ud83d\udcac  ::debug::Semantic version spec of 3.9 is 3.9\n[Build/test      ]   \ud83d\udcac  ::debug::isExplicit: \n[Build/test      ]   \ud83d\udcac  ::debug::explicit? false\n[Build/test      ]   \ud83d\udcac  ::debug::isExplicit: 2.7.18\n[Build/test      ]   \ud83d\udcac  ::debug::explicit? true\n[Build/test      ]   \ud83d\udcac  ::debug::isExplicit: 3.5.10\n[Build/test      ]   \ud83d\udcac  ::debug::explicit? true\n[Build/test      ]   \ud83d\udcac  ::debug::isExplicit: 3.6.14\n[Build/test      ]   \ud83d\udcac  ::debug::explicit? true\n[Build/test      ]   \ud83d\udcac  ::debug::isExplicit: 3.7.11\n[Build/test      ]   \ud83d\udcac  ::debug::explicit? true\n[Build/test      ]   \ud83d\udcac  ::debug::isExplicit: 3.8.11\n[Build/test      ]   \ud83d\udcac  ::debug::explicit? true\n[Build/test      ]   \ud83d\udcac  ::debug::isExplicit: 3.9.6\n[Build/test      ]   \ud83d\udcac  ::debug::explicit? true\n[Build/test      ]   \ud83d\udcac  ::debug::evaluating 6 versions\n[Build/test      ]   \ud83d\udcac  ::debug::matched: 3.9.6\n[Build/test      ]   \ud83d\udcac  ::debug::checking cache: /opt/hostedtoolcache/Python/3.9.6/x64\n[Build/test      ]   \ud83d\udcac  ::debug::Found tool in cache Python 3.9.6 x64\n[Build/test      ]   | Successfully setup CPython (3.9.6)\n[Build/test      ]   \u2753 add-matcher /run/act/actions/actions-setup-python@v2/.github/python.json\n[Build/test      ]   \u2705  Success - Main actions/setup-python@v2\n[Build/pre-commit]   \ud83d\udcac  ::debug::Semantic version spec of 3.8 is 3.8\n[Build/pre-commit]   \ud83d\udcac  ::debug::isExplicit: \n[Build/pre-commit]   \ud83d\udcac  ::debug::explicit? false\n[Build/pre-commit]   \ud83d\udcac  ::debug::isExplicit: 2.7.18\n[Build/pre-commit]   \ud83d\udcac  ::debug::explicit? true\n[Build/pre-commit]   \ud83d\udcac  ::debug::isExplicit: 3.5.10\n[Build/pre-commit]   \ud83d\udcac  ::debug::explicit? true\n[Build/pre-commit]   \ud83d\udcac  ::debug::isExplicit: 3.6.14\n[Build/pre-commit]   \ud83d\udcac  ::debug::explicit? true\n[Build/pre-commit]   \ud83d\udcac  ::debug::isExplicit: 3.7.11\n[Build/pre-commit]   \ud83d\udcac  ::debug::explicit? true\n[Build/pre-commit]   \ud83d\udcac  ::debug::isExplicit: 3.8.11\n[Build/pre-commit]   \ud83d\udcac  ::debug::explicit? true\n[Build/pre-commit]   \ud83d\udcac  ::debug::isExplicit: 3.9.6\n[Build/pre-commit]   \ud83d\udcac  ::debug::explicit? true\n[Build/pre-commit]   \ud83d\udcac  ::debug::evaluating 6 versions\n[Build/pre-commit]   \ud83d\udcac  ::debug::matched: 3.8.11\n[Build/pre-commit]   \ud83d\udcac  ::debug::checking cache: /opt/hostedtoolcache/Python/3.8.11/x64\n[Build/pre-commit]   \ud83d\udcac  ::debug::Found tool in cache Python 3.8.11 x64\n[Build/pre-commit]   | Successfully setup CPython (3.8.11)\n[Build/pre-commit]   \u2753 add-matcher /run/act/actions/actions-setup-python@v2/.github/python.json\n[Build/pre-commit]   \u2705  Success - Main actions/setup-python@v2\n[Build/pre-commit]   \u2699  ::set-env:: pythonLocation=/opt/hostedtoolcache/Python/3.8.11/x64\n[Build/pre-commit]   \u2699  ::set-env:: LD_LIBRARY_PATH=/opt/hostedtoolcache/Python/3.8.11/x64/lib\n[Build/test      ]   \u2699  ::set-env:: pythonLocation=/opt/hostedtoolcache/Python/3.9.6/x64\n[Build/test      ]   \u2699  ::set-env:: LD_LIBRARY_PATH=/opt/hostedtoolcache/Python/3.9.6/x64/lib\n[Build/test      ]   \u2699  ::set-output:: python-version=3.9.6\n[Build/pre-commit]   \u2699  ::set-output:: python-version=3.8.11\n[Build/test      ]   \u2699  ::add-path:: /opt/hostedtoolcache/Python/3.9.6/x64\n[Build/test      ]   \u2699  ::add-path:: /opt/hostedtoolcache/Python/3.9.6/x64/bin\n[Build/pre-commit]   \u2699  ::add-path:: /opt/hostedtoolcache/Python/3.8.11/x64\n[Build/pre-commit]   \u2699  ::add-path:: /opt/hostedtoolcache/Python/3.8.11/x64/bin\n[Build/test      ] \u2b50 Run Main snok/install-poetry@v1.2.0\n[Build/pre-commit] \u2b50 Run Main pre-commit/action@v2.0.0\n[Build/test      ]   \ud83d\udc33  docker cp src=/home/andre-silva/.cache/act/snok-install-poetry@v1.2.0/ dst=/var/run/act/actions/snok-install-poetry@v1.2.0/\n[Build/pre-commit]   \ud83d\udc33  docker cp src=/home/andre-silva/.cache/act/pre-commit-action@v2.0.0/ dst=/var/run/act/actions/pre-commit-action@v2.0.0/\n[Build/pre-commit]   \ud83d\udc33  docker exec cmd=[chown -R 1012:1000 /var/run/act/actions/pre-commit-action@v2.0.0/] user=0 workdir=\n[Build/test      ]   \ud83d\udc33  docker exec cmd=[chown -R 1012:1000 /var/run/act/actions/snok-install-poetry@v1.2.0/] user=0 workdir=\n[Build/pre-commit]   \ud83d\udc33  docker exec cmd=[node /var/run/act/actions/pre-commit-action@v2.0.0/dist/index.js] user= workdir=\n[Build/pre-commit]   \u2753  ::group::install pre-commit\n[Build/pre-commit]   | [command]/opt/hostedtoolcache/Python/3.8.11/x64/bin/pip install pre-commit\n[Build/test      ] \u2b50 Run Main Install and configure Poetry\n[Build/pre-commit]   | Collecting pre-commit\n[Build/pre-commit]   |   Downloading pre_commit-3.3.2-py2.py3-none-any.whl (202 kB)\n[Build/pre-commit]   | Collecting virtualenv>=20.10.0\n[Build/pre-commit]   |   Downloading virtualenv-20.23.0-py3-none-any.whl (3.3 MB)\n[Build/pre-commit]   | Collecting pyyaml>=5.1\n[Build/pre-commit]   |   Downloading PyYAML-6.0-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (701 kB)\n[Build/pre-commit]   | Collecting identify>=1.0.0\n[Build/pre-commit]   |   Downloading identify-2.5.24-py2.py3-none-any.whl (98 kB)\n[Build/pre-commit]   | Collecting cfgv>=2.0.0\n[Build/pre-commit]   |   Downloading cfgv-3.3.1-py2.py3-none-any.whl (7.3 kB)\n[Build/pre-commit]   | Collecting nodeenv>=0.11.1\n[Build/pre-commit]   |   Downloading nodeenv-1.8.0-py2.py3-none-any.whl (22 kB)\n[Build/pre-commit]   | Requirement already satisfied: setuptools in /opt/hostedtoolcache/Python/3.8.11/x64/lib/python3.8/site-packages (from nodeenv>=0.11.1->pre-commit) (56.0.0)\n[Build/pre-commit]   | Collecting distlib<1,>=0.3.6\n[Build/pre-commit]   |   Downloading distlib-0.3.6-py2.py3-none-any.whl (468 kB)\n[Build/pre-commit]   | Collecting filelock<4,>=3.11\n[Build/pre-commit]   |   Downloading filelock-3.12.0-py3-none-any.whl (10 kB)\n[Build/pre-commit]   | Collecting platformdirs<4,>=3.2\n[Build/pre-commit]   |   Downloading platformdirs-3.5.1-py3-none-any.whl (15 kB)\n[Build/pre-commit]   | Installing collected packages: platformdirs, filelock, distlib, virtualenv, pyyaml, nodeenv, identify, cfgv, pre-commit\n[Build/pre-commit]   | Successfully installed cfgv-3.3.1 distlib-0.3.6 filelock-3.12.0 identify-2.5.24 nodeenv-1.8.0 platformdirs-3.5.1 pre-commit-3.3.2 pyyaml-6.0 virtualenv-20.23.0\n[Build/pre-commit]   | WARNING: You are using pip version 21.2.4; however, version 23.1.2 is available.\n[Build/pre-commit]   | You should consider upgrading via the '/opt/hostedtoolcache/Python/3.8.11/x64/bin/python -m pip install --upgrade pip' command.\n[Build/pre-commit]   | [command]/opt/hostedtoolcache/Python/3.8.11/x64/bin/pip freeze --local\n[Build/pre-commit]   | cfgv==3.3.1\n[Build/pre-commit]   | distlib==0.3.6\n[Build/pre-commit]   | filelock==3.12.0\n[Build/pre-commit]   | identify==2.5.24\n[Build/pre-commit]   | nodeenv==1.8.0\n[Build/pre-commit]   | platformdirs==3.5.1\n[Build/pre-commit]   | pre-commit==3.3.2\n[Build/pre-commit]   | PyYAML==6.0\n[Build/pre-commit]   | virtualenv==20.23.0\n[Build/pre-commit]   \u2753  ::endgroup::\n[Build/pre-commit]   \ud83d\udcac  ::debug::Resolved Keys:\n[Build/pre-commit]   \ud83d\udcac  ::debug::[\"pre-commit-2-638f1616ec388c46be7d13a96b9c9d4c8c5391a77495779b568ca616ebf6b0eb-4a23c2a0825da8adb87450ba23438f5db312a40b43a17d74f238683b4b7b001b\"]\n[Build/pre-commit]   \ud83d\udcac  ::debug::Checking zstd --version\n[Build/pre-commit]   \ud83d\udcac  ::debug::*** zstd command line interface 64-bits v1.5.0, by Yann Collet ***\n[Build/pre-commit]   \ud83d\udcac  ::debug::getCacheEntry - Attempt 1 of 2 failed with error: Cache Service Url not found, unable to restore cache.\n[Build/pre-commit]   \ud83d\udcac  ::debug::getCacheEntry - Attempt 2 of 2 failed with error: Cache Service Url not found, unable to restore cache.\n[Build/pre-commit]   \u2757  ::error::getCacheEntry failed: Cache Service Url not found, unable to restore cache.\n[Build/pre-commit]   \u274c  Failure - Main pre-commit/action@v2.0.0\n[Build/test      ]   \ud83d\udc33  docker exec cmd=[bash --noprofile --norc -e -o pipefail /var/run/act/workflow/2-composite-0.sh] user= workdir=\n[Build/pre-commit] exitcode '1': failure\n[Build/test      ]   | \n[Build/test      ]   | \u001b[33mSetting Poetry installation path as /home/runneradmin/.local/\u001b[0m\n[Build/test      ]   | \n[Build/test      ]   | \u001b[33mInstalling Poetry \ud83d\udc77\u001b[0m\n[Build/test      ]   | \n[Build/test      ]   | Retrieving Poetry metadata\n[Build/test      ]   | \n[Build/test      ]   | # Welcome to Poetry!\n[Build/test      ]   | \n[Build/test      ]   | This will download and install the latest version of Poetry,\n[Build/test      ]   | a dependency and package manager for Python.\n[Build/test      ]   | \n[Build/test      ]   | It will add the `poetry` command to Poetry's bin directory, located at:\n[Build/test      ]   | \n[Build/test      ]   | /home/runneradmin/.local/bin\n[Build/test      ]   | \n[Build/test      ]   | You can uninstall at any time by executing this script with the --uninstall option,\n[Build/test      ]   | and these changes will be reverted.\n[Build/test      ]   | \n[Build/test      ]   | Installing Poetry (1.5.0)\n[Build/test      ]   | Installing Poetry (1.5.0): Creating environment\n[Build/test      ]   | Installing Poetry (1.5.0): Installing Poetry\n[Build/test      ]   | Installing Poetry (1.5.0): Creating script\n[Build/test      ]   | Installing Poetry (1.5.0): Done\n[Build/test      ]   | \n[Build/test      ]   | Poetry (1.5.0) is installed now. Great!\n[Build/test      ]   | \n[Build/test      ]   | To get started you need Poetry's bin directory (/home/runneradmin/.local/bin) in your `PATH`\n[Build/test      ]   | environment variable.\n[Build/test      ]   | \n[Build/test      ]   | Add `export PATH=\"/home/runneradmin/.local/bin:$PATH\"` to your shell configuration file.\n[Build/test      ]   | \n[Build/test      ]   | Alternatively, you can call Poetry explicitly with `/home/runneradmin/.local/bin/poetry`.\n[Build/test      ]   | \n[Build/test      ]   | You can test that everything is set up by executing:\n[Build/test      ]   | \n[Build/test      ]   | `poetry --version`\n[Build/test      ]   | \n[Build/pre-commit] \ud83c\udfc1  Job failed\n[Build/test      ]   | 1\n[Build/test      ]   | \n[Build/test      ]   | \u001b[33mInstallation completed. Configuring settings \ud83d\udee0\u001b[0m\n[Build/test      ]   | \n[Build/test      ]   | \u001b[33mDone \u2705\u001b[0m\n[Build/test      ]   | \n[Build/test      ]   | \u001b[33mIf you are creating a venv in your project, you can activate it by running 'source .venv/bin/activate'. If you're running this in an OS matrix, you can use 'source $VENV' instead, as an OS agnostic option\u001b[0m\n[Build/test      ]   \u2705  Success - Main Install and configure Poetry\n[Build/test      ]   \u2699  ::set-env:: VENV=.venv/bin/activate\n[Build/test      ]   \u2699  ::add-path:: /home/runneradmin/.local//bin\n[Build/test      ]   \u2705  Success - Main snok/install-poetry@v1.2.0\n[Build/test      ]   \u2699  ::set-env:: VENV=.venv/bin/activate\n[Build/test      ]   \u2699  ::add-path:: /home/runneradmin/.local//bin\n[Build/test      ] \u2b50 Run Main Load cached venv\n[Build/test      ]   \ud83d\udc33  docker cp src=/home/andre-silva/.cache/act/actions-cache@v2/ dst=/var/run/act/actions/actions-cache@v2/\n[Build/test      ]   \ud83d\udc33  docker exec cmd=[chown -R 1012:1000 /var/run/act/actions/actions-cache@v2/] user=0 workdir=\n[Build/test      ]   \ud83d\udc33  docker exec cmd=[node /var/run/act/actions/actions-cache@v2/dist/restore/index.js] user= workdir=\n[Build/test      ]   \ud83d\udcac  ::debug::Resolved Keys:\n[Build/test      ]   \ud83d\udcac  ::debug::[\"venv-Linux-f676d67adfdb6de622fb4f765d3c2e50e4ddc8dc48b63e138762cc4efd9dac95\"]\n[Build/test      ]   \ud83d\udcac  ::debug::Checking zstd --version\n[Build/test      ]   \ud83d\udcac  ::debug::*** zstd command line interface 64-bits v1.5.0, by Yann Collet ***\n[Build/test      ]   \ud83d\udcac  ::debug::getCacheEntry - Attempt 1 of 2 failed with error: Cache Service Url not found, unable to restore cache.\n[Build/test      ]   \ud83d\udcac  ::debug::getCacheEntry - Attempt 2 of 2 failed with error: Cache Service Url not found, unable to restore cache.\n[Build/test      ]   | [warning]getCacheEntry failed: Cache Service Url not found, unable to restore cache.\n[Build/test      ]   \u2705  Success - Main Load cached venv\n[Build/test      ]   \u2699  ::set-output:: cache-hit=false\n[Build/test      ] \u2b50 Run Main Install dependencies\n[Build/test      ]   \ud83d\udc33  docker exec cmd=[bash --noprofile --norc -e -o pipefail /var/run/act/workflow/4] user= workdir=\n[Build/test      ]   | Creating virtualenv spkrepo in /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/.venv\n[Build/test      ]   | Installing dependencies from lock file\n[Build/test      ]   | \n[Build/test      ]   | Package operations: 92 installs, 1 update, 0 removals\n[Build/test      ]   | \n[Build/test      ]   |   \u2022 Installing markupsafe (2.1.1)\n[Build/test      ]   |   \u2022 Installing zipp (3.9.0)\n[Build/test      ]   |   \u2022 Installing certifi (2021.10.8)\n[Build/test      ]   |   \u2022 Installing charset-normalizer (2.0.12)\n[Build/test      ]   |   \u2022 Installing greenlet (1.1.2)\n[Build/test      ]   |   \u2022 Installing click (8.0.4)\n[Build/test      ]   |   \u2022 Installing idna (3.3)\n[Build/test      ]   |   \u2022 Installing importlib-metadata (5.0.0)\n[Build/test      ]   |   \u2022 Installing itsdangerous (2.1.1)\n[Build/test      ]   |   \u2022 Installing jinja2 (3.0.3)\n[Build/test      ]   |   \u2022 Installing pycparser (2.21)\n[Build/test      ]   |   \u2022 Installing pyparsing (3.0.7)\n[Build/test      ]   |   \u2022 Installing pytz (2021.3)\n[Build/test      ]   |   \u2022 Installing six (1.16.0)\n[Build/test      ]   |   \u2022 Installing urllib3 (1.26.8)\n[Build/test      ]   |   \u2022 Installing werkzeug (2.2.2)\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   |   \u2022 Installing alabaster (0.7.12)\n[Build/test      ]   |   \u2022 Installing babel (2.9.1)\n[Build/test      ]   |   \u2022 Installing cffi (1.15.0)\n[Build/test      ]   |   \u2022 Installing distlib (0.3.4)\n[Build/test      ]   |   \u2022 Installing blinker (1.4)\n[Build/test      ]   |   \u2022 Installing dnspython (2.2.1)\n[Build/test      ]   |   \u2022 Installing filelock (3.6.0)\n[Build/test      ]   |   \u2022 Installing imagesize (1.3.0)\n[Build/test      ]   |   \u2022 Installing mako (1.2.0)\n[Build/test      ]   |   \u2022 Installing flask (2.2.2)\n[Build/test      ]   |   \u2022 Installing platformdirs (2.5.1)\n[Build/test      ]   |   \u2022 Installing python-dateutil (2.8.2)\n[Build/test      ]   |   \u2022 Installing requests (2.27.1)\n[Build/test      ]   |   \u2022 Installing mkdocs-material-extensions (1.1)\n[Build/test      ]   |   \u2022 Installing sphinxcontrib-applehelp (1.0.2)\n[Build/test      ]   |   \u2022 Installing pygments (2.11.2)\n[Build/test      ]   |   \u2022 Installing docutils (0.16)\n[Build/test      ]   |   \u2022 Updating setuptools (67.7.2 -> 65.5.0)\n[Build/test      ]   |   \u2022 Installing snowballstemmer (2.2.0)\n[Build/test      ]   |   \u2022 Installing sphinxcontrib-qthelp (1.0.3)\n[Build/test      ]   |   \u2022 Installing sphinxcontrib-htmlhelp (2.0.0)\n[Build/test      ]   |   \u2022 Installing sphinxcontrib-jsmath (1.0.1)\n[Build/test      ]   |   \u2022 Installing packaging (21.3)\n[Build/test      ]   |   \u2022 Installing text-unidecode (1.3)\n[Build/test      ]   |   \u2022 Installing webencodings (0.5.1)\n[Build/test      ]   |   \u2022 Installing sphinxcontrib-devhelp (1.0.2)\n[Build/test      ]   |   \u2022 Installing sphinxcontrib-serializinghtml (1.1.5)\n[Build/test      ]   |   \u2022 Installing sqlalchemy (1.4.32)\n[Build/test      ]   |   \u2022 Installing wrapt (1.14.0)\n[Build/test      ]   |   \u2022 Installing wtforms (3.0.1)\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   |   \u2022 Installing alembic (1.7.6)\n[Build/test      ]   |   \u2022 Installing aniso8601 (9.0.1)\n[Build/test      ]   |   \u2022 Installing attrs (21.4.0)\n[Build/test      ]   |   \u2022 Installing bcrypt (3.2.0)\n[Build/test      ]   |   \u2022 Installing bleach (5.0.1)\n[Build/test      ]   |   \u2022 Installing cfgv (3.3.1)\n[Build/test      ]   |   \u2022 Installing deprecated (1.2.13)\n[Build/test      ]   |   \u2022 Installing faker (4.18.0)\n[Build/test      ]   |   \u2022 Installing flask-login (0.6.2)\n[Build/test      ]   |   \u2022 Installing email-validator (1.1.3)\n[Build/test      ]   |   \u2022 Installing flask-sqlalchemy (2.5.1)\n[Build/test      ]   |   \u2022 Installing flask-mailman (0.3.0)\n[Build/test      ]   |   \u2022 Installing iniconfig (1.1.1)\n[Build/test      ]   |   \u2022 Installing nodeenv (1.6.0)\n[Build/test      ]   |   \u2022 Installing passlib (1.7.4)\n[Build/test      ]   |   \u2022 Installing identify (2.4.11)\n[Build/test      ]   |   \u2022 Installing flask-principal (0.4.0)\n[Build/test      ]   |   \u2022 Installing pluggy (1.0.0)\n[Build/test      ]   |   \u2022 Installing speaklater (1.3)\n[Build/test      ]   |   \u2022 Installing sphinx (3.5.4)\n[Build/test      ]   |   \u2022 Installing sqlalchemy-utils (0.38.3)\n[Build/test      ]   |   \u2022 Installing toml (0.10.2)\n[Build/test      ]   |   \u2022 Installing virtualenv (20.13.3)\n[Build/test      ]   |   \u2022 Installing pyyaml (6.0)\n[Build/test      ]   |   \u2022 Installing flask-wtf (1.0.0)\n[Build/test      ]   |   \u2022 Installing py (1.11.0)\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   |   \u2022 Installing configparser (5.2.0)\n[Build/test      ]   |   \u2022 Installing factory-boy (2.12.0)\n[Build/test      ]   |   \u2022 Installing flask-admin (1.6.0)\n[Build/test      ]   |   \u2022 Installing flask-caching (1.10.1)\n[Build/test      ]   |   \u2022 Installing flask-cli (0.4.0)\n[Build/test      ]   |   \u2022 Installing flask-debugtoolbar (0.11.0)\n[Build/test      ]   |   \u2022 Installing flask-mail (0.9.1)\n[Build/test      ]   |   \u2022 Installing flask-migrate (3.1.0)\n[Build/test      ]   |   \u2022 Installing flask-babelex (0.9.4)\n[Build/test      ]   |   \u2022 Installing flask-restful (0.3.9)\n[Build/test      ]   |   \u2022 Installing flask-security-too (5.0.2)\n[Build/test      ]   |   \u2022 Installing flask-testing (0.8.1)\n[Build/test      ]   |   \u2022 Installing ipaddress (1.0.23)\n[Build/test      ]   |   \u2022 Installing pillow (8.4.0)\n[Build/test      ]   |   \u2022 Installing pre-commit (2.17.0)\n[Build/test      ]   |   \u2022 Installing pytest (6.2.5)\n[Build/test      ]   |   \u2022 Installing lxml (4.8.0)\n[Build/test      ]   |   \u2022 Installing mock (4.0.3)\n[Build/test      ]   |   \u2022 Installing python-gnupg (0.4.8)\n[Build/test      ]   |   \u2022 Installing sphinx-rtd-theme (0.4.3)\n[Build/test      ]   |   \u2022 Installing redis (4.1.4)\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   | Connection pool is full, discarding connection: pypi.org. Connection pool size: 10\n[Build/test      ]   \u2705  Success - Main Install dependencies\n[Build/test      ] \u2b50 Run Main Install application\n[Build/test      ]   \ud83d\udc33  docker exec cmd=[bash --noprofile --norc -e -o pipefail /var/run/act/workflow/5] user= workdir=\n[Build/test      ]   | Installing dependencies from lock file\n[Build/test      ]   | \n[Build/test      ]   | No dependencies to install or update\n[Build/test      ]   | \n[Build/test      ]   | Installing the current project: spkrepo (0.2.3)\n[Build/test      ]   \u2705  Success - Main Install application\n[Build/test      ] \u2b50 Run Main Run tests\n[Build/test      ]   \ud83d\udc33  docker exec cmd=[bash --noprofile --norc -e -o pipefail /var/run/act/workflow/6] user= workdir=\n[Build/test      ]   | ============================= test session starts ==============================\n[Build/test      ]   | platform linux -- Python 3.9.6, pytest-6.2.5, py-1.11.0, pluggy-1.0.0 -- /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/.venv/bin/python\n[Build/test      ]   | cachedir: .pytest_cache\n[Build/test      ]   | rootdir: /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo\n[Build/test      ]   | plugins: Faker-4.18.0\n[Build/test      ]   | collecting ... collected 140 items\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_admin.py::IndexTestCase::test_admin PASSED            [  0%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::IndexTestCase::test_anonymous PASSED        [  1%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::IndexTestCase::test_anonymous_redirects_to_login FAILED [  2%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::IndexTestCase::test_developer PASSED        [  2%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::IndexTestCase::test_package_admin FAILED    [  3%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::IndexTestCase::test_user PASSED             [  4%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::UserTestCase::test_action_activate_multi FAILED [  5%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::UserTestCase::test_action_activate_one PASSED [  5%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::UserTestCase::test_action_deactivate FAILED [  6%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::UserTestCase::test_action_deactivate_multi PASSED [  7%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::UserTestCase::test_admin PASSED             [  7%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::UserTestCase::test_anonymous PASSED         [  8%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::UserTestCase::test_developer PASSED         [  9%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::UserTestCase::test_package_admin PASSED     [ 10%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::UserTestCase::test_user PASSED              [ 10%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::PackageTestCase::test_admin PASSED          [ 11%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::PackageTestCase::test_anonymous PASSED      [ 12%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::PackageTestCase::test_developer PASSED      [ 12%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::PackageTestCase::test_on_model_create PASSED [ 13%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::PackageTestCase::test_on_model_delete FAILED [ 14%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::PackageTestCase::test_package_admin PASSED  [ 15%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::PackageTestCase::test_user PASSED           [ 15%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::VersionTestCase::test_admin PASSED          [ 16%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::VersionTestCase::test_anonymous PASSED      [ 17%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::VersionTestCase::test_developer PASSED      [ 17%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::VersionTestCase::test_on_model_delete PASSED [ 18%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::VersionTestCase::test_package_admin PASSED  [ 19%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::VersionTestCase::test_user PASSED           [ 20%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::BuildTestCase::test_action_activate_multi PASSED [ 20%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::BuildTestCase::test_action_activate_one PASSED [ 21%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::BuildTestCase::test_action_deactivate PASSED [ 22%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::BuildTestCase::test_action_deactivate_multi PASSED [ 22%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::BuildTestCase::test_admin PASSED            [ 23%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::BuildTestCase::test_anonymous PASSED        [ 24%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::BuildTestCase::test_developer PASSED        [ 25%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::BuildTestCase::test_package_admin PASSED    [ 25%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::BuildTestCase::test_user PASSED             [ 26%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::ScreenshotTestCase::test_admin PASSED       [ 27%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::ScreenshotTestCase::test_anonymous PASSED   [ 27%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::ScreenshotTestCase::test_create PASSED      [ 28%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::ScreenshotTestCase::test_developer PASSED   [ 29%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::ScreenshotTestCase::test_package_admin PASSED [ 30%]\n[Build/test      ]   | spkrepo/tests/test_admin.py::ScreenshotTestCase::test_user PASSED        [ 30%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_120_icon FAILED   [ 31%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_anonymous_user PASSED [ 32%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_conflict FAILED   [ 32%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_existing_package_maintainer_user FAILED [ 33%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_existing_package_not_author_not_maintainer_user PASSED [ 34%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_icons_in_both FAILED [ 35%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_icons_in_info_only FAILED [ 35%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_install_wizard FAILED [ 36%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_invalid_firmware PASSED [ 37%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_invalid_spk PASSED [ 37%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_minimum FAILED    [ 38%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_new_package_not_author_not_maintainer_user PASSED [ 39%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_no_data PASSED    [ 40%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_no_license FAILED [ 40%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_not_startable FAILED [ 41%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_signed PASSED     [ 42%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_simple_user PASSED [ 42%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_startable FAILED  [ 43%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_unknown_architecture PASSED [ 44%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_unknown_firmware PASSED [ 45%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_upgrade_wizard FAILED [ 45%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_wrong_description_language FAILED [ 46%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_wrong_displayname_language FAILED [ 47%]\n[Build/test      ]   | spkrepo/tests/test_api.py::PackagesTestCase::test_post_wrong_version FAILED [ 47%]\n[Build/test      ]   | spkrepo/tests/test_frontend.py::IndexTestCase::test_get_anonymous PASSED [ 48%]\n[Build/test      ]   | spkrepo/tests/test_frontend.py::IndexTestCase::test_get_logged_user PASSED [ 49%]\n[Build/test      ]   | spkrepo/tests/test_frontend.py::PackagesTestCase::test_get_active_not_stable PASSED [ 50%]\n[Build/test      ]   | spkrepo/tests/test_frontend.py::PackagesTestCase::test_get_active_stable PASSED [ 50%]\n[Build/test      ]   | spkrepo/tests/test_frontend.py::PackagesTestCase::test_get_not_active_not_stable PASSED [ 51%]\n[Build/test      ]   | spkrepo/tests/test_frontend.py::PackagesTestCase::test_get_not_active_stable PASSED [ 52%]\n[Build/test      ]   | spkrepo/tests/test_frontend.py::PackageTestCase::test_get PASSED         [ 52%]\n[Build/test      ]   | spkrepo/tests/test_frontend.py::PackageTestCase::test_get_no_package PASSED [ 53%]\n[Build/test      ]   | spkrepo/tests/test_frontend.py::ProfileTestCase::test_get_anonymous PASSED [ 54%]\n[Build/test      ]   | spkrepo/tests/test_frontend.py::ProfileTestCase::test_get_developer PASSED [ 55%]\n[Build/test      ]   | spkrepo/tests/test_frontend.py::ProfileTestCase::test_get_no_api_key_by_default PASSED [ 55%]\n[Build/test      ]   | spkrepo/tests/test_frontend.py::ProfileTestCase::test_get_user PASSED    [ 56%]\n[Build/test      ]   | spkrepo/tests/test_frontend.py::ProfileTestCase::test_post_generate_api_key_developer FAILED [ 57%]\n[Build/test      ]   | spkrepo/tests/test_frontend.py::ProfileTestCase::test_post_generate_api_key_not_developer FAILED [ 57%]\n[Build/test      ]   | spkrepo/tests/test_frontend.py::RegisterTestCase::test_unique_user_username PASSED [ 58%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_missing_data_arch PASSED [ 59%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_missing_data_build PASSED [ 60%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_missing_data_language PASSED [ 60%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_not_stable_build_active_not_stable PASSED [ 61%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_not_stable_build_active_stable PASSED [ 62%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_not_stable_build_not_active_not_stable PASSED [ 62%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_not_stable_build_not_active_stable PASSED [ 63%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_stable_build_active_not_stable PASSED [ 64%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_stable_build_active_stable PASSED [ 65%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_stable_build_active_stable_5004 PASSED [ 65%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_stable_build_active_stable_different_arch PASSED [ 66%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_stable_build_active_stable_different_firmware PASSED [ 67%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_stable_build_active_stable_download_count PASSED [ 67%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_stable_build_active_stable_no_distributor PASSED [ 68%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_stable_build_active_stable_null_data PASSED [ 69%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_stable_build_active_stable_qinst PASSED [ 70%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_stable_build_active_stable_qstart PASSED [ 70%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_stable_build_active_stable_qstart_startable PASSED [ 71%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_stable_build_not_active_not_stable PASSED [ 72%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_stable_build_not_active_stable PASSED [ 72%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_wrong_data_arch PASSED  [ 73%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_wrong_data_build PASSED [ 74%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::CatalogTestCase::test_wrong_data_language PASSED [ 75%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::DownloadTestCase::test_generic PASSED         [ 75%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::DownloadTestCase::test_inactive_build PASSED  [ 76%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::DownloadTestCase::test_incorrect_architecture PASSED [ 77%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::DownloadTestCase::test_incorrect_firmware_build PASSED [ 77%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::DownloadTestCase::test_wrong_architecture PASSED [ 78%]\n[Build/test      ]   | spkrepo/tests/test_nas.py::DownloadTestCase::test_wrong_build PASSED     [ 79%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_checksum_mismatch PASSED [ 80%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_empty_conf_folder PASSED [ 80%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_generic PASSED       [ 81%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_info_blank_like PASSED [ 82%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_info_boolean_no PASSED [ 82%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_info_boolean_yes PASSED [ 83%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_invalid_info PASSED  [ 84%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_invalid_info_boolean_startable PASSED [ 85%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_invalid_info_icon PASSED [ 85%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_invalid_info_package PASSED [ 86%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_invalid_spk PASSED   [ 87%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_missing_72px_icon PASSED [ 87%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_missing_conf_folder PASSED [ 88%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_missing_info_package PASSED [ 89%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_no_info PASSED       [ 90%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_no_package_tgz PASSED [ 90%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_post_conf_privilege_invalid_json PASSED [ 91%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_post_conf_resource_invalid_json PASSED [ 92%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_wrong_conf_conflicts_encoding PASSED [ 92%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_wrong_conf_dependencies_encoding PASSED [ 93%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_wrong_conf_privilege_encoding PASSED [ 94%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_wrong_conf_resource_encoding PASSED [ 95%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_wrong_info_encoding PASSED [ 95%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_wrong_license_encoding PASSED [ 96%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKParseTestCase::test_wrong_syno_signature_encoding PASSED [ 97%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKSignTestCase::test_already_signed PASSED [ 97%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKSignTestCase::test_generic PASSED        [ 98%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKUnsignTestCase::test_generic PASSED      [ 99%]\n[Build/test      ]   | spkrepo/tests/test_utils.py::SPKUnsignTestCase::test_not_signed PASSED   [100%]\n[Build/test      ]   | \n[Build/test      ]   | =================================== FAILURES ===================================\n[Build/test      ]   | _______________ IndexTestCase.test_anonymous_redirects_to_login ________________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_admin.IndexTestCase testMethod=test_anonymous_redirects_to_login>\n[Build/test      ]   | \n[Build/test      ]   |     def test_anonymous_redirects_to_login(self):\n[Build/test      ]   | >       self.assertRedirectsTo(\n[Build/test      ]   |             self.client.get(url_for(\"admin.index\")), url_for(\"security.login\")\n[Build/test      ]   |         )\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_admin.py:23: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | spkrepo/tests/common.py:433: in assertRedirectsTo\n[Build/test      ]   |     self.assertRedirects(response, location, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:314: in assertRedirects\n[Build/test      ]   |     self.assertEqual(response.location, expected_location, message)\n[Build/test      ]   | E   AssertionError: '/login' != 'http://localhost/login'\n[Build/test      ]   | E   - /login\n[Build/test      ]   | E   + http://localhost/login\n[Build/test      ]   | _______________________ IndexTestCase.test_package_admin _______________________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_admin.IndexTestCase testMethod=test_package_admin>\n[Build/test      ]   | \n[Build/test      ]   |     def test_package_admin(self):\n[Build/test      ]   |         with self.logged_user(\"package_admin\"):\n[Build/test      ]   | >           self.assert200(self.client.get(url_for(\"admin.index\")))\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_admin.py:37: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:341: in assert200\n[Build/test      ]   |     self.assertStatus(response, 200, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 302 != 200 : HTTP Status 200 expected but got 302\n[Build/test      ]   | ___________________ UserTestCase.test_action_activate_multi ____________________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_admin.UserTestCase testMethod=test_action_activate_multi>\n[Build/test      ]   | \n[Build/test      ]   |     def test_action_activate_multi(self):\n[Build/test      ]   |         with self.logged_user(\"admin\"):\n[Build/test      ]   |             user1 = self.create_user()\n[Build/test      ]   |             user1.active = False\n[Build/test      ]   |             user2 = self.create_user()\n[Build/test      ]   |             user2.active = False\n[Build/test      ]   |             db.session.commit()\n[Build/test      ]   |             response = self.client.post(\n[Build/test      ]   |                 url_for(\"user.action_view\"),\n[Build/test      ]   |                 follow_redirects=True,\n[Build/test      ]   |                 data=dict(action=\"activate\", rowid=[user1.id, user2.id]),\n[Build/test      ]   |             )\n[Build/test      ]   | >           self.assert200(response)\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_admin.py:93: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:341: in assert200\n[Build/test      ]   |     self.assertStatus(response, 200, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 403 != 200 : HTTP Status 200 expected but got 403\n[Build/test      ]   | _____________________ UserTestCase.test_action_deactivate ______________________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_admin.UserTestCase testMethod=test_action_deactivate>\n[Build/test      ]   | \n[Build/test      ]   |     def test_action_deactivate(self):\n[Build/test      ]   |         with self.logged_user(\"admin\"):\n[Build/test      ]   |             user = self.create_user()\n[Build/test      ]   |             user.active = True\n[Build/test      ]   |             db.session.commit()\n[Build/test      ]   |             response = self.client.post(\n[Build/test      ]   |                 url_for(\"user.action_view\"),\n[Build/test      ]   |                 follow_redirects=True,\n[Build/test      ]   |                 data=dict(action=\"deactivate\", rowid=[user.id]),\n[Build/test      ]   |             )\n[Build/test      ]   | >           self.assert200(response)\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_admin.py:111: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:341: in assert200\n[Build/test      ]   |     self.assertStatus(response, 200, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 403 != 200 : HTTP Status 200 expected but got 403\n[Build/test      ]   | _____________________ PackageTestCase.test_on_model_delete _____________________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_admin.PackageTestCase testMethod=test_on_model_delete>\n[Build/test      ]   | \n[Build/test      ]   |     def test_on_model_delete(self):\n[Build/test      ]   |         package = PackageFactory()\n[Build/test      ]   |         db.session.commit()\n[Build/test      ]   |         self.assertEqual(len(Package.query.all()), 1)\n[Build/test      ]   |         package_path = os.path.join(current_app.config[\"DATA_PATH\"], package.name)\n[Build/test      ]   |         self.assertTrue(os.path.exists(package_path))\n[Build/test      ]   |         with self.logged_user(\"package_admin\", \"admin\"):\n[Build/test      ]   |             self.client.post(url_for(\"package.delete_view\", id=str(package.id)))\n[Build/test      ]   | >       self.assertEqual(len(Package.query.all()), 0)\n[Build/test      ]   | E       AssertionError: 1 != 0\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_admin.py:176: AssertionError\n[Build/test      ]   | ----------------------------- Captured stderr call -----------------------------\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | _____________________ PackagesTestCase.test_post_120_icon ______________________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_api.PackagesTestCase testMethod=test_post_120_icon>\n[Build/test      ]   | \n[Build/test      ]   |     def test_post_120_icon(self):\n[Build/test      ]   |         user = UserFactory(roles=[Role.find(\"developer\"), Role.find(\"package_admin\")])\n[Build/test      ]   |         db.session.commit()\n[Build/test      ]   |     \n[Build/test      ]   |         build = BuildFactory.build(\n[Build/test      ]   |             version__icons={\"120\": IconFactory.build(size=\"120\")}\n[Build/test      ]   |         )\n[Build/test      ]   |         with create_spk(build) as spk:\n[Build/test      ]   | >           self.assert201(\n[Build/test      ]   |                 self.client.post(\n[Build/test      ]   |                     url_for(\"api.packages\"),\n[Build/test      ]   |                     headers=authorization_header(user),\n[Build/test      ]   |                     data=spk.read(),\n[Build/test      ]   |                 )\n[Build/test      ]   |             )\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_api.py:354: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | spkrepo/tests/common.py:412: in assert201\n[Build/test      ]   |     self.assertStatus(response, 201, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 403 != 201 : HTTP Status 201 expected but got 403\n[Build/test      ]   | ----------------------------- Captured stderr call -----------------------------\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | _____________________ PackagesTestCase.test_post_conflict ______________________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_api.PackagesTestCase testMethod=test_post_conflict>\n[Build/test      ]   | \n[Build/test      ]   |     def test_post_conflict(self):\n[Build/test      ]   |         user = UserFactory(roles=[Role.find(\"developer\"), Role.find(\"package_admin\")])\n[Build/test      ]   |         db.session.commit()\n[Build/test      ]   |     \n[Build/test      ]   |         architectures = [Architecture.find(\"88f628x\"), Architecture.find(\"cedarview\")]\n[Build/test      ]   |         build = BuildFactory.build(architectures=architectures)\n[Build/test      ]   |         with create_spk(build) as spk:\n[Build/test      ]   | >           self.assert201(\n[Build/test      ]   |                 self.client.post(\n[Build/test      ]   |                     url_for(\"api.packages\"),\n[Build/test      ]   |                     headers=authorization_header(user),\n[Build/test      ]   |                     data=spk.read(),\n[Build/test      ]   |                 )\n[Build/test      ]   |             )\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_api.py:159: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | spkrepo/tests/common.py:412: in assert201\n[Build/test      ]   |     self.assertStatus(response, 201, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 403 != 201 : HTTP Status 201 expected but got 403\n[Build/test      ]   | ----------------------------- Captured stderr call -----------------------------\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | _________ PackagesTestCase.test_post_existing_package_maintainer_user __________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_api.PackagesTestCase testMethod=test_post_existing_package_maintainer_user>\n[Build/test      ]   | \n[Build/test      ]   |     def test_post_existing_package_maintainer_user(self):\n[Build/test      ]   |         user = UserFactory(roles=[Role.find(\"developer\")])\n[Build/test      ]   |         package = PackageFactory(maintainers=[user])\n[Build/test      ]   |         db.session.commit()\n[Build/test      ]   |     \n[Build/test      ]   |         build = BuildFactory.build(version__package=package)\n[Build/test      ]   |         db.session.expire(package)\n[Build/test      ]   |         with create_spk(build) as spk:\n[Build/test      ]   | >           self.assert201(\n[Build/test      ]   |                 self.client.post(\n[Build/test      ]   |                     url_for(\"api.packages\"),\n[Build/test      ]   |                     headers=authorization_header(user),\n[Build/test      ]   |                     data=spk.read(),\n[Build/test      ]   |                 )\n[Build/test      ]   |             )\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_api.py:219: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | spkrepo/tests/common.py:412: in assert201\n[Build/test      ]   |     self.assertStatus(response, 201, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 403 != 201 : HTTP Status 201 expected but got 403\n[Build/test      ]   | ----------------------------- Captured stderr call -----------------------------\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | ___________________ PackagesTestCase.test_post_icons_in_both ___________________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_api.PackagesTestCase testMethod=test_post_icons_in_both>\n[Build/test      ]   | \n[Build/test      ]   |     def test_post_icons_in_both(self):\n[Build/test      ]   |         user = UserFactory(roles=[Role.find(\"developer\"), Role.find(\"package_admin\")])\n[Build/test      ]   |         db.session.commit()\n[Build/test      ]   |     \n[Build/test      ]   |         build = BuildFactory.build()\n[Build/test      ]   |         with create_spk(build, with_package_icons=True, with_info_icons=True) as spk:\n[Build/test      ]   | >           self.assert201(\n[Build/test      ]   |                 self.client.post(\n[Build/test      ]   |                     url_for(\"api.packages\"),\n[Build/test      ]   |                     headers=authorization_header(user),\n[Build/test      ]   |                     data=spk.read(),\n[Build/test      ]   |                 )\n[Build/test      ]   |             )\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_api.py:292: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | spkrepo/tests/common.py:412: in assert201\n[Build/test      ]   |     self.assertStatus(response, 201, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 403 != 201 : HTTP Status 201 expected but got 403\n[Build/test      ]   | ----------------------------- Captured stderr call -----------------------------\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | ________________ PackagesTestCase.test_post_icons_in_info_only _________________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_api.PackagesTestCase testMethod=test_post_icons_in_info_only>\n[Build/test      ]   | \n[Build/test      ]   |     def test_post_icons_in_info_only(self):\n[Build/test      ]   |         user = UserFactory(roles=[Role.find(\"developer\"), Role.find(\"package_admin\")])\n[Build/test      ]   |         db.session.commit()\n[Build/test      ]   |     \n[Build/test      ]   |         build = BuildFactory.build()\n[Build/test      ]   |         with create_spk(build, with_package_icons=False, with_info_icons=True) as spk:\n[Build/test      ]   | >           self.assert201(\n[Build/test      ]   |                 self.client.post(\n[Build/test      ]   |                     url_for(\"api.packages\"),\n[Build/test      ]   |                     headers=authorization_header(user),\n[Build/test      ]   |                     data=spk.read(),\n[Build/test      ]   |                 )\n[Build/test      ]   |             )\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_api.py:277: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | spkrepo/tests/common.py:412: in assert201\n[Build/test      ]   |     self.assertStatus(response, 201, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 403 != 201 : HTTP Status 201 expected but got 403\n[Build/test      ]   | ----------------------------- Captured stderr call -----------------------------\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | __________________ PackagesTestCase.test_post_install_wizard ___________________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_api.PackagesTestCase testMethod=test_post_install_wizard>\n[Build/test      ]   | \n[Build/test      ]   |     def test_post_install_wizard(self):\n[Build/test      ]   |         user = UserFactory(roles=[Role.find(\"developer\"), Role.find(\"package_admin\")])\n[Build/test      ]   |         db.session.commit()\n[Build/test      ]   |     \n[Build/test      ]   |         build = BuildFactory.build(version__install_wizard=True)\n[Build/test      ]   |         with create_spk(build) as spk:\n[Build/test      ]   | >           self.assert201(\n[Build/test      ]   |                 self.client.post(\n[Build/test      ]   |                     url_for(\"api.packages\"),\n[Build/test      ]   |                     headers=authorization_header(user),\n[Build/test      ]   |                     data=spk.read(),\n[Build/test      ]   |                 )\n[Build/test      ]   |             )\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_api.py:322: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | spkrepo/tests/common.py:412: in assert201\n[Build/test      ]   |     self.assertStatus(response, 201, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 403 != 201 : HTTP Status 201 expected but got 403\n[Build/test      ]   | ----------------------------- Captured stderr call -----------------------------\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | ______________________ PackagesTestCase.test_post_minimum ______________________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_api.PackagesTestCase testMethod=test_post_minimum>\n[Build/test      ]   | \n[Build/test      ]   |     def test_post_minimum(self):\n[Build/test      ]   |         user = UserFactory(roles=[Role.find(\"developer\"), Role.find(\"package_admin\")])\n[Build/test      ]   |         db.session.commit()\n[Build/test      ]   |     \n[Build/test      ]   |         build = BuildFactory.build()\n[Build/test      ]   |         with create_spk(build) as spk:\n[Build/test      ]   | >           self.assert201(\n[Build/test      ]   |                 self.client.post(\n[Build/test      ]   |                     url_for(\"api.packages\"),\n[Build/test      ]   |                     headers=authorization_header(user),\n[Build/test      ]   |                     data=spk.read(),\n[Build/test      ]   |                 )\n[Build/test      ]   |             )\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_api.py:143: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | spkrepo/tests/common.py:412: in assert201\n[Build/test      ]   |     self.assertStatus(response, 201, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 403 != 201 : HTTP Status 201 expected but got 403\n[Build/test      ]   | ----------------------------- Captured stderr call -----------------------------\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | ____________________ PackagesTestCase.test_post_no_license _____________________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_api.PackagesTestCase testMethod=test_post_no_license>\n[Build/test      ]   | \n[Build/test      ]   |     def test_post_no_license(self):\n[Build/test      ]   |         user = UserFactory(roles=[Role.find(\"developer\"), Role.find(\"package_admin\")])\n[Build/test      ]   |         db.session.commit()\n[Build/test      ]   |     \n[Build/test      ]   |         build = BuildFactory.build(version__license=None)\n[Build/test      ]   |         with create_spk(build) as spk:\n[Build/test      ]   | >           self.assert201(\n[Build/test      ]   |                 self.client.post(\n[Build/test      ]   |                     url_for(\"api.packages\"),\n[Build/test      ]   |                     headers=authorization_header(user),\n[Build/test      ]   |                     data=spk.read(),\n[Build/test      ]   |                 )\n[Build/test      ]   |             )\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_api.py:307: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | spkrepo/tests/common.py:412: in assert201\n[Build/test      ]   |     self.assertStatus(response, 201, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 403 != 201 : HTTP Status 201 expected but got 403\n[Build/test      ]   | ----------------------------- Captured stderr call -----------------------------\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | ___________________ PackagesTestCase.test_post_not_startable ___________________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_api.PackagesTestCase testMethod=test_post_not_startable>\n[Build/test      ]   | \n[Build/test      ]   |     def test_post_not_startable(self):\n[Build/test      ]   |         user = UserFactory(roles=[Role.find(\"developer\"), Role.find(\"package_admin\")])\n[Build/test      ]   |         db.session.commit()\n[Build/test      ]   |     \n[Build/test      ]   |         build = BuildFactory.build(version__startable=False)\n[Build/test      ]   |         with create_spk(build) as spk:\n[Build/test      ]   | >           self.assert201(\n[Build/test      ]   |                 self.client.post(\n[Build/test      ]   |                     url_for(\"api.packages\"),\n[Build/test      ]   |                     headers=authorization_header(user),\n[Build/test      ]   |                     data=spk.read(),\n[Build/test      ]   |                 )\n[Build/test      ]   |             )\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_api.py:384: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | spkrepo/tests/common.py:412: in assert201\n[Build/test      ]   |     self.assertStatus(response, 201, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 403 != 201 : HTTP Status 201 expected but got 403\n[Build/test      ]   | ----------------------------- Captured stderr call -----------------------------\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | _____________________ PackagesTestCase.test_post_startable _____________________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_api.PackagesTestCase testMethod=test_post_startable>\n[Build/test      ]   | \n[Build/test      ]   |     def test_post_startable(self):\n[Build/test      ]   |         user = UserFactory(roles=[Role.find(\"developer\"), Role.find(\"package_admin\")])\n[Build/test      ]   |         db.session.commit()\n[Build/test      ]   |     \n[Build/test      ]   |         build = BuildFactory.build(version__startable=True)\n[Build/test      ]   |         with create_spk(build) as spk:\n[Build/test      ]   | >           self.assert201(\n[Build/test      ]   |                 self.client.post(\n[Build/test      ]   |                     url_for(\"api.packages\"),\n[Build/test      ]   |                     headers=authorization_header(user),\n[Build/test      ]   |                     data=spk.read(),\n[Build/test      ]   |                 )\n[Build/test      ]   |             )\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_api.py:369: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | spkrepo/tests/common.py:412: in assert201\n[Build/test      ]   |     self.assertStatus(response, 201, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 403 != 201 : HTTP Status 201 expected but got 403\n[Build/test      ]   | ----------------------------- Captured stderr call -----------------------------\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | __________________ PackagesTestCase.test_post_upgrade_wizard ___________________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_api.PackagesTestCase testMethod=test_post_upgrade_wizard>\n[Build/test      ]   | \n[Build/test      ]   |     def test_post_upgrade_wizard(self):\n[Build/test      ]   |         user = UserFactory(roles=[Role.find(\"developer\"), Role.find(\"package_admin\")])\n[Build/test      ]   |         db.session.commit()\n[Build/test      ]   |     \n[Build/test      ]   |         build = BuildFactory.build(version__upgrade_wizard=True)\n[Build/test      ]   |         with create_spk(build) as spk:\n[Build/test      ]   | >           self.assert201(\n[Build/test      ]   |                 self.client.post(\n[Build/test      ]   |                     url_for(\"api.packages\"),\n[Build/test      ]   |                     headers=authorization_header(user),\n[Build/test      ]   |                     data=spk.read(),\n[Build/test      ]   |                 )\n[Build/test      ]   |             )\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_api.py:337: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | spkrepo/tests/common.py:412: in assert201\n[Build/test      ]   |     self.assertStatus(response, 201, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 403 != 201 : HTTP Status 201 expected but got 403\n[Build/test      ]   | ----------------------------- Captured stderr call -----------------------------\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | ____________ PackagesTestCase.test_post_wrong_description_language _____________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_api.PackagesTestCase testMethod=test_post_wrong_description_language>\n[Build/test      ]   | \n[Build/test      ]   |     def test_post_wrong_description_language(self):\n[Build/test      ]   |         user = UserFactory(roles=[Role.find(\"developer\"), Role.find(\"package_admin\")])\n[Build/test      ]   |         db.session.commit()\n[Build/test      ]   |     \n[Build/test      ]   |         build = BuildFactory.build()\n[Build/test      ]   |         info = create_info(build)\n[Build/test      ]   |         info[\"description_zzz\"] = \"description_zzz\"\n[Build/test      ]   |         with create_spk(build, info=info) as spk:\n[Build/test      ]   |             response = self.client.post(\n[Build/test      ]   |                 url_for(\"api.packages\"),\n[Build/test      ]   |                 headers=authorization_header(user),\n[Build/test      ]   |                 data=spk.read(),\n[Build/test      ]   |             )\n[Build/test      ]   | >       self.assert422(response)\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_api.py:424: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | spkrepo/tests/common.py:453: in assert422\n[Build/test      ]   |     self.assertStatus(response, 422, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 403 != 422 : HTTP Status 422 expected but got 403\n[Build/test      ]   | ----------------------------- Captured stderr call -----------------------------\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | ____________ PackagesTestCase.test_post_wrong_displayname_language _____________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_api.PackagesTestCase testMethod=test_post_wrong_displayname_language>\n[Build/test      ]   | \n[Build/test      ]   |     def test_post_wrong_displayname_language(self):\n[Build/test      ]   |         user = UserFactory(roles=[Role.find(\"developer\"), Role.find(\"package_admin\")])\n[Build/test      ]   |         db.session.commit()\n[Build/test      ]   |     \n[Build/test      ]   |         build = BuildFactory.build()\n[Build/test      ]   |         info = create_info(build)\n[Build/test      ]   |         info[\"displayname_zzz\"] = \"displayname_zzz\"\n[Build/test      ]   |         with create_spk(build, info=info) as spk:\n[Build/test      ]   |             response = self.client.post(\n[Build/test      ]   |                 url_for(\"api.packages\"),\n[Build/test      ]   |                 headers=authorization_header(user),\n[Build/test      ]   |                 data=spk.read(),\n[Build/test      ]   |             )\n[Build/test      ]   | >       self.assert422(response)\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_api.py:406: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | spkrepo/tests/common.py:453: in assert422\n[Build/test      ]   |     self.assertStatus(response, 422, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 403 != 422 : HTTP Status 422 expected but got 403\n[Build/test      ]   | ----------------------------- Captured stderr call -----------------------------\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | ___________________ PackagesTestCase.test_post_wrong_version ___________________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_api.PackagesTestCase testMethod=test_post_wrong_version>\n[Build/test      ]   | \n[Build/test      ]   |     def test_post_wrong_version(self):\n[Build/test      ]   |         user = UserFactory(roles=[Role.find(\"developer\"), Role.find(\"package_admin\")])\n[Build/test      ]   |         db.session.commit()\n[Build/test      ]   |     \n[Build/test      ]   |         build = BuildFactory.build()\n[Build/test      ]   |         info = create_info(build)\n[Build/test      ]   |         info[\"version\"] = \"1.2.3~4\"\n[Build/test      ]   |         with create_spk(build, info=info) as spk:\n[Build/test      ]   |             response = self.client.post(\n[Build/test      ]   |                 url_for(\"api.packages\"),\n[Build/test      ]   |                 headers=authorization_header(user),\n[Build/test      ]   |                 data=spk.read(),\n[Build/test      ]   |             )\n[Build/test      ]   | >       self.assert422(response)\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_api.py:442: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | spkrepo/tests/common.py:453: in assert422\n[Build/test      ]   |     self.assertStatus(response, 422, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 403 != 422 : HTTP Status 422 expected but got 403\n[Build/test      ]   | ----------------------------- Captured stderr call -----------------------------\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | convert-im6.q16: unable to read font `helvetica' @ error/annotate.c/RenderFreetype/1338.\n[Build/test      ]   | convert-im6.q16: non-conforming drawing primitive definition `text' @ error/draw.c/RenderMVGContent/4300.\n[Build/test      ]   | _____________ ProfileTestCase.test_post_generate_api_key_developer _____________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_frontend.ProfileTestCase testMethod=test_post_generate_api_key_developer>\n[Build/test      ]   | \n[Build/test      ]   |     def test_post_generate_api_key_developer(self):\n[Build/test      ]   |         with self.logged_user(\"developer\", api_key=None):\n[Build/test      ]   |             response = self.client.post(\n[Build/test      ]   |                 url_for(\"frontend.profile\"), data=dict(), follow_redirects=True\n[Build/test      ]   |             )\n[Build/test      ]   |             self.assert200(response)\n[Build/test      ]   |             html = fromstring(response.data.decode(response.charset))\n[Build/test      ]   | >           self.assertTrue(html.forms[0].fields[\"api_key\"] != \"\")\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_frontend.py:130: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | .venv/lib/python3.9/site-packages/lxml/html/__init__.py:1149: in __getitem__\n[Build/test      ]   |     return self.inputs[item].value\n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | \n[Build/test      ]   | self = <InputGetter for form 0>, name = 'api_key'\n[Build/test      ]   | \n[Build/test      ]   |     def __getitem__(self, name):\n[Build/test      ]   |         fields = [field for field in self if field.name == name]\n[Build/test      ]   |         if not fields:\n[Build/test      ]   | >           raise KeyError(\"No input element with the name %r\" % name)\n[Build/test      ]   | E           KeyError: \"No input element with the name 'api_key'\"\n[Build/test      ]   | \n[Build/test      ]   | .venv/lib/python3.9/site-packages/lxml/html/__init__.py:1201: KeyError\n[Build/test      ]   | ___________ ProfileTestCase.test_post_generate_api_key_not_developer ___________\n[Build/test      ]   | \n[Build/test      ]   | self = <spkrepo.tests.test_frontend.ProfileTestCase testMethod=test_post_generate_api_key_not_developer>\n[Build/test      ]   | \n[Build/test      ]   |     def test_post_generate_api_key_not_developer(self):\n[Build/test      ]   |         with self.logged_user(api_key=None):\n[Build/test      ]   |             response = self.client.post(url_for(\"frontend.profile\"), data=dict())\n[Build/test      ]   | >           self.assert200(response)\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_frontend.py:135: \n[Build/test      ]   | _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:341: in assert200\n[Build/test      ]   |     self.assertStatus(response, 200, message)\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_testing/utils.py:329: in assertStatus\n[Build/test      ]   |     self.assertEqual(response.status_code, status_code, message)\n[Build/test      ]   | E   AssertionError: 400 != 200 : HTTP Status 200 expected but got 400\n[Build/test      ]   | =============================== warnings summary ===============================\n[Build/test      ]   | .venv/lib/python3.9/site-packages/blinker/base.py:93\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/.venv/lib/python3.9/site-packages/blinker/base.py:93: DeprecationWarning: invalid escape sequence \\*\n[Build/test      ]   |     \"\"\"Connect *receiver* to signal events sent by *sender*.\n[Build/test      ]   | \n[Build/test      ]   | .venv/lib/python3.9/site-packages/blinker/base.py:161\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/.venv/lib/python3.9/site-packages/blinker/base.py:161: DeprecationWarning: invalid escape sequence \\*\n[Build/test      ]   |     \"\"\"Connect the decorated function as a receiver for *sender*.\n[Build/test      ]   | \n[Build/test      ]   | .venv/lib/python3.9/site-packages/blinker/base.py:242\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/.venv/lib/python3.9/site-packages/blinker/base.py:242: DeprecationWarning: invalid escape sequence \\*\n[Build/test      ]   |     \"\"\"Emit this signal on behalf of *sender*, passing on \\*\\*kwargs.\n[Build/test      ]   | \n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_babelex/__init__.py:20\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_babelex/__init__.py:20\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/.venv/lib/python3.9/site-packages/flask_babelex/__init__.py:20: DeprecationWarning: '_request_ctx_stack' is deprecated and will be removed in Flask 2.3.\n[Build/test      ]   |     from flask import _request_ctx_stack\n[Build/test      ]   | \n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_debugtoolbar/__init__.py:5\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/.venv/lib/python3.9/site-packages/flask_debugtoolbar/__init__.py:5: DeprecationWarning: '_request_ctx_stack' is deprecated and will be remoevd in Flask 2.3.\n[Build/test      ]   |     from flask.globals import _request_ctx_stack\n[Build/test      ]   | \n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_sqlalchemy/__init__.py:14\n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_sqlalchemy/__init__.py:14\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/.venv/lib/python3.9/site-packages/flask_sqlalchemy/__init__.py:14: DeprecationWarning: '_app_ctx_stack' is deprecated and will be removed in Flask 2.3.\n[Build/test      ]   |     from flask import _app_ctx_stack, abort, current_app, request\n[Build/test      ]   | \n[Build/test      ]   | .venv/lib/python3.9/site-packages/jinja2/environment.py:362\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/.venv/lib/python3.9/site-packages/jinja2/environment.py:362: DeprecationWarning: The 'with' extension is deprecated and will be removed in Jinja 3.1. This is built in now.\n[Build/test      ]   |     self.extensions = load_extensions(self, extensions)\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/models.py:499\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/spkrepo/models.py:499: SAWarning: implicitly coercing SELECT object to scalar subquery; please use the .scalar_subquery() method to produce a scalar subquery.\n[Build/test      ]   |     download_count = db.column_property(\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/models.py:505\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/spkrepo/models.py:505: SAWarning: implicitly coercing SELECT object to scalar subquery; please use the .scalar_subquery() method to produce a scalar subquery.\n[Build/test      ]   |     recent_download_count = db.column_property(\n[Build/test      ]   | \n[Build/test      ]   | .venv/lib/python3.9/site-packages/flask_admin/form/widgets.py:2\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/.venv/lib/python3.9/site-packages/flask_admin/form/widgets.py:2: DeprecationWarning: '_request_ctx_stack' is deprecated and will be remoevd in Flask 2.3.\n[Build/test      ]   |     from flask.globals import _request_ctx_stack\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/views/api.py:8\n[Build/test      ]   | spkrepo/views/api.py:8\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/spkrepo/views/api.py:8: DeprecationWarning: '_request_ctx_stack' is deprecated and will be removed in Flask 2.3.\n[Build/test      ]   |     from flask import Blueprint, _request_ctx_stack, current_app, request\n[Build/test      ]   | \n[Build/test      ]   | ../../../opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/loader.py:66\n[Build/test      ]   |   /opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/loader.py:66: PytestCollectionWarning: cannot collect test class 'TestLoader' because it has a __init__ constructor (from: spkrepo/tests/test_admin.py)\n[Build/test      ]   |     class TestLoader(object):\n[Build/test      ]   | \n[Build/test      ]   | ../../../opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/suite.py:92\n[Build/test      ]   |   /opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/suite.py:92: PytestCollectionWarning: cannot collect test class 'TestSuite' because it has a __init__ constructor (from: spkrepo/tests/test_admin.py)\n[Build/test      ]   |     class TestSuite(BaseTestSuite):\n[Build/test      ]   | \n[Build/test      ]   | ../../../opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/loader.py:66\n[Build/test      ]   |   /opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/loader.py:66: PytestCollectionWarning: cannot collect test class 'TestLoader' because it has a __init__ constructor (from: spkrepo/tests/test_api.py)\n[Build/test      ]   |     class TestLoader(object):\n[Build/test      ]   | \n[Build/test      ]   | ../../../opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/suite.py:92\n[Build/test      ]   |   /opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/suite.py:92: PytestCollectionWarning: cannot collect test class 'TestSuite' because it has a __init__ constructor (from: spkrepo/tests/test_api.py)\n[Build/test      ]   |     class TestSuite(BaseTestSuite):\n[Build/test      ]   | \n[Build/test      ]   | ../../../opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/loader.py:66\n[Build/test      ]   |   /opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/loader.py:66: PytestCollectionWarning: cannot collect test class 'TestLoader' because it has a __init__ constructor (from: spkrepo/tests/test_frontend.py)\n[Build/test      ]   |     class TestLoader(object):\n[Build/test      ]   | \n[Build/test      ]   | ../../../opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/suite.py:92\n[Build/test      ]   |   /opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/suite.py:92: PytestCollectionWarning: cannot collect test class 'TestSuite' because it has a __init__ constructor (from: spkrepo/tests/test_frontend.py)\n[Build/test      ]   |     class TestSuite(BaseTestSuite):\n[Build/test      ]   | \n[Build/test      ]   | ../../../opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/loader.py:66\n[Build/test      ]   |   /opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/loader.py:66: PytestCollectionWarning: cannot collect test class 'TestLoader' because it has a __init__ constructor (from: spkrepo/tests/test_nas.py)\n[Build/test      ]   |     class TestLoader(object):\n[Build/test      ]   | \n[Build/test      ]   | ../../../opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/suite.py:92\n[Build/test      ]   |   /opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/suite.py:92: PytestCollectionWarning: cannot collect test class 'TestSuite' because it has a __init__ constructor (from: spkrepo/tests/test_nas.py)\n[Build/test      ]   |     class TestSuite(BaseTestSuite):\n[Build/test      ]   | \n[Build/test      ]   | ../../../opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/loader.py:66\n[Build/test      ]   |   /opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/loader.py:66: PytestCollectionWarning: cannot collect test class 'TestLoader' because it has a __init__ constructor (from: spkrepo/tests/test_utils.py)\n[Build/test      ]   |     class TestLoader(object):\n[Build/test      ]   | \n[Build/test      ]   | ../../../opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/suite.py:92\n[Build/test      ]   |   /opt/hostedtoolcache/Python/3.9.6/x64/lib/python3.9/unittest/suite.py:92: PytestCollectionWarning: cannot collect test class 'TestSuite' because it has a __init__ constructor (from: spkrepo/tests/test_utils.py)\n[Build/test      ]   |     class TestSuite(BaseTestSuite):\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_admin.py: 43 warnings\n[Build/test      ]   | spkrepo/tests/test_api.py: 24 warnings\n[Build/test      ]   | spkrepo/tests/test_frontend.py: 15 warnings\n[Build/test      ]   | spkrepo/tests/test_nas.py: 29 warnings\n[Build/test      ]   | spkrepo/tests/test_utils.py: 29 warnings\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/.venv/lib/python3.9/site-packages/flask_caching/__init__.py:237: DeprecationWarning: Using the initialization functions in flask_caching.backend is deprecated.  Use the a full path to backend classes directly.\n[Build/test      ]   |     warnings.warn(\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_admin.py: 6088 warnings\n[Build/test      ]   | spkrepo/tests/test_api.py: 3462 warnings\n[Build/test      ]   | spkrepo/tests/test_frontend.py: 2111 warnings\n[Build/test      ]   | spkrepo/tests/test_nas.py: 4270 warnings\n[Build/test      ]   | spkrepo/tests/test_utils.py: 3974 warnings\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/.venv/lib/python3.9/site-packages/flask_sqlalchemy/__init__.py:302: DeprecationWarning: '_app_ctx_stack' is deprecated and will be removed in Flask 2.3. Use 'g' to store data, or 'app_ctx' to access the current context.\n[Build/test      ]   |     queries = _app_ctx_stack.top.sqlalchemy_queries\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_admin.py: 43 warnings\n[Build/test      ]   | spkrepo/tests/test_api.py: 24 warnings\n[Build/test      ]   | spkrepo/tests/test_frontend.py: 15 warnings\n[Build/test      ]   | spkrepo/tests/test_nas.py: 29 warnings\n[Build/test      ]   | spkrepo/tests/test_utils.py: 29 warnings\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/.venv/lib/python3.9/site-packages/flask_sqlalchemy/__init__.py:304: DeprecationWarning: '_app_ctx_stack' is deprecated and will be removed in Flask 2.3. Use 'g' to store data, or 'app_ctx' to access the current context.\n[Build/test      ]   |     queries = _app_ctx_stack.top.sqlalchemy_queries = []\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_admin.py: 525 warnings\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/.venv/lib/python3.9/site-packages/flask_babelex/__init__.py:506: DeprecationWarning: '_request_ctx_stack' is deprecated and will be removed in Flask 2.3. Use 'g' to store data, or 'request_ctx' to access the current context.\n[Build/test      ]   |     ctx = _request_ctx_stack.top\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_admin.py: 525 warnings\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/.venv/lib/python3.9/site-packages/flask_babelex/__init__.py:208: DeprecationWarning: '_request_ctx_stack' is deprecated and will be removed in Flask 2.3. Use 'g' to store data, or 'request_ctx' to access the current context.\n[Build/test      ]   |     ctx = _request_ctx_stack.top\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_admin.py: 42 warnings\n[Build/test      ]   | spkrepo/tests/test_api.py: 24 warnings\n[Build/test      ]   | spkrepo/tests/test_frontend.py: 15 warnings\n[Build/test      ]   | spkrepo/tests/test_nas.py: 29 warnings\n[Build/test      ]   | spkrepo/tests/test_utils.py: 29 warnings\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/.venv/lib/python3.9/site-packages/flask_security/core.py:1364: DeprecationWarning: Replacing login_manager is deprecated in 5.0.0 and will be removed in 5.1\n[Build/test      ]   |     warnings.warn(\n[Build/test      ]   | \n[Build/test      ]   | spkrepo/tests/test_api.py: 22 warnings\n[Build/test      ]   |   /tmp/de65f406-fe28-11ed-a890-af2cc187fc11/SynoCommunity-spkrepo/spkrepo/views/api.py:43: DeprecationWarning: '_request_ctx_stack' is deprecated and will be removed in Flask 2.3. Use 'g' to store data, or 'request_ctx' to access the current context.\n[Build/test      ]   |     _request_ctx_stack.top.user = user\n[Build/test      ]   | \n[Build/test      ]   | -- Docs: https://docs.pytest.org/en/stable/warnings.html\n[Build/test      ]   | =========================== short test summary info ============================\n[Build/test      ]   | FAILED spkrepo/tests/test_admin.py::IndexTestCase::test_anonymous_redirects_to_login\n[Build/test      ]   | FAILED spkrepo/tests/test_admin.py::IndexTestCase::test_package_admin - Asser...\n[Build/test      ]   | FAILED spkrepo/tests/test_admin.py::UserTestCase::test_action_activate_multi\n[Build/test      ]   | FAILED spkrepo/tests/test_admin.py::UserTestCase::test_action_deactivate - As...\n[Build/test      ]   | FAILED spkrepo/tests/test_admin.py::PackageTestCase::test_on_model_delete - A...\n[Build/test      ]   | FAILED spkrepo/tests/test_api.py::PackagesTestCase::test_post_120_icon - Asse...\n[Build/test      ]   | FAILED spkrepo/tests/test_api.py::PackagesTestCase::test_post_conflict - Asse...\n[Build/test      ]   | FAILED spkrepo/tests/test_api.py::PackagesTestCase::test_post_existing_package_maintainer_user\n[Build/test      ]   | FAILED spkrepo/tests/test_api.py::PackagesTestCase::test_post_icons_in_both\n[Build/test      ]   | FAILED spkrepo/tests/test_api.py::PackagesTestCase::test_post_icons_in_info_only\n[Build/test      ]   | FAILED spkrepo/tests/test_api.py::PackagesTestCase::test_post_install_wizard\n[Build/test      ]   | FAILED spkrepo/tests/test_api.py::PackagesTestCase::test_post_minimum - Asser...\n[Build/test      ]   | FAILED spkrepo/tests/test_api.py::PackagesTestCase::test_post_no_license - As...\n[Build/test      ]   | FAILED spkrepo/tests/test_api.py::PackagesTestCase::test_post_not_startable\n[Build/test      ]   | FAILED spkrepo/tests/test_api.py::PackagesTestCase::test_post_startable - Ass...\n[Build/test      ]   | FAILED spkrepo/tests/test_api.py::PackagesTestCase::test_post_upgrade_wizard\n[Build/test      ]   | FAILED spkrepo/tests/test_api.py::PackagesTestCase::test_post_wrong_description_language\n[Build/test      ]   | FAILED spkrepo/tests/test_api.py::PackagesTestCase::test_post_wrong_displayname_language\n[Build/test      ]   | FAILED spkrepo/tests/test_api.py::PackagesTestCase::test_post_wrong_version\n[Build/test      ]   | FAILED spkrepo/tests/test_frontend.py::ProfileTestCase::test_post_generate_api_key_developer\n[Build/test      ]   | FAILED spkrepo/tests/test_frontend.py::ProfileTestCase::test_post_generate_api_key_not_developer\n[Build/test      ]   | ========== 21 failed, 119 passed, 21420 warnings in 258.57s (0:04:18) ==========\n[Build/test      ]   \u274c  Failure - Main Run tests\n[Build/test      ] exitcode '1': failure\n[Build/test      ] \u2b50 Run Post snok/install-poetry@v1.2.0\n[Build/test      ]   \ud83d\udc33  docker cp src=/home/andre-silva/.cache/act/snok-install-poetry@v1.2.0/ dst=/var/run/act/actions/snok-install-poetry@v1.2.0/\n[Build/test      ]   \ud83d\udc33  docker exec cmd=[chown -R 1012:1000 /var/run/act/actions/snok-install-poetry@v1.2.0/] user=0 workdir=\n[Build/test      ] context canceled\n[Build/test      ]   \u2705  Success - Post snok/install-poetry@v1.2.0\n[Build/test      ] failed to remove container: Error response from daemon: removal of container a6bcdb899c8c07b326409e6f3e39405ad40d12711d16b8eaef7cd45fb30f11d8 is already in progress\n[Build/test      ] \ud83c\udfc1  Job failed\n",
    "actions_stderr": "Error: context canceled\n"
}